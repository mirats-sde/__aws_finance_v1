"use strict";(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[2002,9356],{2002:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var i=t(4942),a=t(4165),r=t(1413),o=t(5861),s=t(885),l=t(2791),c="AddExpense_expenseTrackerMainContainer__XhKEy",u="AddExpense_expenseTrackerBodyContainer__w4md9",d="AddExpense_expenseInputContainer__ZUW61",p="AddExpense_expenseTrackerFooterContainer__TXmfr",h=t(7799),m=t(5933),v=t(276),f=t(6910),x=t(7689),b=t(6082),j=t(9356),_=t(184),g=function(){var e=(0,x.UO)().bill_id,n=(0,x.s0)(),t=(0,l.useState)({}),g=(0,s.Z)(t,2),Z=g[0],y=g[1],C=(0,l.useState)(),S=(0,s.Z)(C,2),k=S[0],N=S[1],w=(0,l.useState)(!1),M=(0,s.Z)(w,2),F=M[0],E=M[1],I=(0,f.F_)(m.I8),T=((0,s.Z)(I,1)[0],(0,j.UseGlobalContext)().setSnackbar),A=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e?(0,h.cf)((0,h.JU)(m.iW,"expenses",String(e)),(function(e){y((0,r.Z)({},null===e||void 0===e?void 0:e.data()))})):y({});case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();console.log(Z),(0,l.useEffect)((function(){A()}),[]);var P=function(e){y((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))},U=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var n,t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,h.IO)((0,h.hJ)(m.iW,"expenses"),(0,h.Xo)("bill_id","desc"),(0,h.b9)(1)),e.next=3,(0,h.PL)(n);case 3:return t=e.sent,i=null,t.forEach((function(e){var n;i=null===(n=e.data())||void 0===n?void 0:n.bill_id})),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(e);var B=function(){var t=(0,o.Z)((0,a.Z)().mark((function t(i){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.preventDefault(),e?(0,v.aF)((0,v.iH)(m.tO,"expense/".concat(e))).then((function(e){e.items.forEach((function(e){(0,v.oq)(e).then((function(){})).catch((function(e){}))}))})).then((function(t){E(!0),(0,v.KV)((0,v.iH)(m.tO,"expense/".concat(e,"/").concat(null===k||void 0===k?void 0:k.name)),k).then(function(){var t=(0,o.Z)((0,a.Z)().mark((function t(i){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,v.Jt)(i.ref).then(function(){var t=(0,o.Z)((0,a.Z)().mark((function t(i){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("File available at",i),t.next=3,(0,h.pl)((0,h.JU)(m.iW,"expenses",String(e)),(0,r.Z)((0,r.Z)({},Z),{},{image_url:i,bill_id:Number(e)})).then((function(){return E(!1)}),y({}),n("/expense"),T({open:!0,severity:"success",msg:"Expense Updated Successfully!"})).catch((function(e){return console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})):U().then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("The last id is",t),console.log("NEw id is",Number(t)+1),E(!0),(0,v.KV)((0,v.iH)(m.tO,"expense/".concat(Number(t)+1,"/").concat(null===k||void 0===k?void 0:k.name)),k).then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(i){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(i),(0,v.Jt)(i.ref).then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(i){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("File available at",i),e.next=3,(0,h.pl)((0,h.JU)(m.iW,"expenses",String(Number(t)+1)),(0,r.Z)((0,r.Z)({},Z),{},{image_url:i,bill_id:Number(t)+1})).then((function(){return E(!1)}),y({}),N(),n("/expense"),T({open:!0,severity:"success",msg:"Expense Added Successfully!"})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:c,children:[(0,_.jsx)("button",{onClick:function(){return n("/expense")},children:"Back To Home"}),(0,_.jsx)("div",{className:u,children:(0,_.jsxs)("form",{onSubmit:B,children:[(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"company_name",children:"Company Name :"}),(0,_.jsxs)("select",{required:!0,name:"company_name",value:null!==Z&&void 0!==Z&&Z.company_name?null===Z||void 0===Z?void 0:Z.company_name:"",onChange:P,children:[(0,_.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select A Company"}),(0,_.jsx)("option",{value:"Mirats Insights Private Limited",children:"Mirats Insights Private Limited"}),(0,_.jsx)("option",{value:" Macer India Research & Technology Service",children:"Macer India Research & Technology Service"})]})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"expense_nature",children:"Expense Nature :"}),(0,_.jsx)("input",{required:!0,type:"text",name:"expense_nature",value:null!==Z&&void 0!==Z&&Z.expense_nature?null===Z||void 0===Z?void 0:Z.expense_nature:"",onChange:P})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"bill_amount",children:"Bill Amount :"}),(0,_.jsx)("input",{type:"number",name:"bill_amount",required:!0,value:null!==Z&&void 0!==Z&&Z.bill_amount?null===Z||void 0===Z?void 0:Z.bill_amount:"",placeholder:"Enter Bill Amount",onChange:P})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"uploaded_by",children:"select Name :"}),(0,_.jsxs)("select",{name:"uploaded_by",required:!0,value:null!==Z&&void 0!==Z&&Z.uploaded_by?null===Z||void 0===Z?void 0:Z.uploaded_by:"",onChange:P,children:[(0,_.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Select Person"}),(0,_.jsx)("option",{value:"Mayank Patel",children:"Mayank Patel"}),(0,_.jsx)("option",{value:" Amit Sharma",children:"Amit Sharma"}),(0,_.jsx)("option",{value:" Anupam Kumar",children:"Anupam Kumar"}),(0,_.jsx)("option",{value:" Saumil Shah",children:"Saumil Shah"}),(0,_.jsx)("option",{value:" Suyog kosia",children:"Suyog kosia"}),(0,_.jsx)("option",{value:" Ashwin Gopalakrishnan",children:"Ashwin Gopalakrishnan"})]})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"payment_method",children:"Select Payment Method :"}),(0,_.jsxs)("select",{name:"payment_method",id:"payment_method",required:!0,value:null!==Z&&void 0!==Z&&Z.payment_method?null===Z||void 0===Z?void 0:Z.payment_method:"",onChange:P,children:[(0,_.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Payment Mode"}),(0,_.jsx)("option",{value:"Mirats Credit Cards",children:"Mirats Credit Cards"}),(0,_.jsx)("option",{value:" Macer Credit Cards",children:"Macer Credit Cards"}),(0,_.jsx)("option",{value:" Mirats UPI",children:"Mirats UPI"}),(0,_.jsx)("option",{value:" Macer UPI",children:"Macer UPI"}),(0,_.jsx)("option",{value:" Mirats Debit Cards",children:"Mirats Debit Cards"}),(0,_.jsx)("option",{value:" Macer Debit Cards",children:"Macer Debit Cards"}),(0,_.jsx)("option",{value:" Mirats Net banking",children:"Mirats Net banking"}),(0,_.jsx)("option",{value:" Macer Net Banking",children:"Macer Net Banking"})]})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"selected_date",children:"Pick Date :"}),(0,_.jsx)("input",{type:"date",name:"selected_date",required:!0,value:null!==Z&&void 0!==Z&&Z.selected_date?null===Z||void 0===Z?void 0:Z.selected_date:"",onChange:function(e){return y((function(n){return(0,r.Z)((0,r.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))}})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"file",children:"Upload Bill File :"}),(0,_.jsx)("input",{type:"file",name:"image_url",required:!0,onChange:function(e){return N(e.target.files[0])}})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"selected_date",children:"Invoice Number :"}),(0,_.jsx)("input",{type:"text",name:"invoice_number",value:null!==Z&&void 0!==Z&&Z.invoice_number?null===Z||void 0===Z?void 0:Z.invoice_number:"",placeholder:"Invoice Number",onChange:P})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"selected_date",children:"Description :"}),(0,_.jsx)("textarea",{name:"description",cols:"50",rows:"4",value:null!==Z&&void 0!==Z&&Z.description?null===Z||void 0===Z?void 0:Z.description:"",onChange:P,placeholder:"Bill Description"})]}),(0,_.jsxs)("section",{className:d,children:[(0,_.jsx)("label",{htmlFor:"selected_date",children:"GST Number :"}),(0,_.jsx)("input",{type:"text",name:"GST_number",value:null!==Z&&void 0!==Z&&Z.GST_number?null===Z||void 0===Z?void 0:Z.GST_number:"",placeholder:"GST Number",onChange:P})]}),(0,_.jsx)("div",{className:p,children:F?(0,_.jsx)("img",{src:b}):(0,_.jsx)("button",{type:"submit",disabled:F,children:"Save"})})]})})]})}},9356:function(e,n,t){t.r(n),t.d(n,{UseGlobalContext:function(){return v}});var i=t(1413),a=t(2982),r=t(885),o=t(4569),s=t.n(o),l=t(276),c=t(2791),u=t(5933),d=t(1647),p=t(1508),h=t(184),m=(0,c.createContext)(),v=function(){return(0,c.useContext)(m)};n.default=function(e){var n=e.children,t=(0,c.useState)([]),o=(0,r.Z)(t,2),v=o[0],f=o[1],x=(0,c.useState)({open:!1,severity:"",msg:""}),b=(0,r.Z)(x,2),j=b[0],_=b[1],g=(0,c.useState)([]),Z=(0,r.Z)(g,2),y=Z[0],C=Z[1],S=(0,c.useState)([]),k=(0,r.Z)(S,2),N=(k[0],k[1],(0,c.useState)(!1)),w=(0,r.Z)(N,2),M=w[0],F=w[1],E=function(){s().get("https://finance.miratsoneservices.com/api/get-bank-transaction").then((function(e){f(null===e||void 0===e?void 0:e.data)}))};(0,c.useEffect)((function(){E(),(0,l.aF)((0,l.iH)(u.tO,(0,l.iH)("bank_statement"))).then((function(e){e.prefixes.forEach((function(e){C((function(n){return[].concat((0,a.Z)(n),[e.name])}))})),e.items.forEach((function(e){console.log(e)}))}))}),[]);var I={bankTransaction:v,name:"sonumonu",getingImgFromFolder:y,setGetingImgFromFolder:C,getBankTransaction:E,setSnackbar:_,disableBtn:M,setDisableBtn:F},T=c.forwardRef((function(e,n){return(0,h.jsx)(p.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),A=function(e,n){"clickaway"!==n&&_({open:!1})};return(0,h.jsxs)(m.Provider,{value:I,children:[n,(0,h.jsx)(d.Z,{open:null===j||void 0===j?void 0:j.open,autoHideDuration:4e3,onClose:A,children:(0,h.jsx)(T,{onClose:A,severity:null===j||void 0===j?void 0:j.severity,sx:{width:"100%"},children:null===j||void 0===j?void 0:j.msg})})]})}},6082:function(e,n,t){e.exports=t.p+"static/media/loader.56ec7b0f514fa47b67e4.gif"}}]);
//# sourceMappingURL=2002.4b536d46.chunk.js.map
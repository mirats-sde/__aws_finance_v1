"use strict";(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[17],{17:function(e,n,s){s.r(n),s.d(n,{default:function(){return x}});var r=s(4942),o=s(1413),i=s(4165),a=s(5861),t=s(885),l=s(2791),c="Login_mainRegisaterConatainer__kpWbC",u="Login_innerRegisterContainer__lykbB",d="Login_registerRow__EHK7u",v=s(9460),h=s(5933),m=s(9271),f=s(8102),g=s(7689),p=s(7799),b=s(1647),w=s(1508),y=s(184),x=function(){var e=(0,l.useState)({}),n=(0,t.Z)(e,2),s=n[0],x=n[1],Z=(0,g.s0)(),j=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=(0,p.IO)((0,p.hJ)(h.iW,"miratsinsights","peoples","employee"),(0,p.ar)("email","==",null===s||void 0===s?void 0:s.email),(0,p.ar)("Portal_Access.finance_portal","==",!0)),e.next=4,(0,p.PL)(r);case 4:o=e.sent,a=!1,o.docs.length&&(a=!0,(0,v.e5)(h.I8,null===s||void 0===s?void 0:s.email,null===s||void 0===s?void 0:s.password).then((function(){console.log("success"),L({open:!0,severity:"success",msg:"Login Successful!!!"}),setTimeout((function(){Z("/")}),1500)})).catch((function(e){switch(e.message){case"Firebase: Error (auth/user-not-found).":L({open:!0,severity:"error",msg:"User not found!!!"});break;case"Firebase: Error (auth/wrong-password).":L({open:!0,severity:"error",msg:"Wrong Password!!!"});break;default:L({open:!0,severity:"error",msg:e.message})}}))),a||L({open:!0,severity:"error",msg:"You cannot access the portal because you are not an admin"});case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,r.Z)({},e.target.name,e.target.value))}))},_=(0,l.useState)({open:!1,severity:"",msg:""}),C=(0,t.Z)(_,2),P=C[0],L=C[1],S=function(){L({open:!1})},E=l.forwardRef((function(e,n){return(0,y.jsx)(w.Z,(0,o.Z)({elevation:6,ref:n,variant:"filled"},e))}));return(0,y.jsxs)("div",{className:c,children:[(0,y.jsxs)("div",{className:u,children:[(0,y.jsx)("h1",{style:{color:"#2a2a2b"},children:"LogIn"}),(0,y.jsxs)("form",{onSubmit:j,children:[(0,y.jsx)("div",{className:d,children:(0,y.jsx)(m.ZP,{required:!0,bordered:!0,labelPlaceholder:"Email",type:"email",name:"email",onChange:k,css:{width:"100%"}})}),(0,y.jsx)("div",{className:d,children:(0,y.jsx)(m.ZP.Password,{labelPlaceholder:"Password",bordered:!0,name:"password",onChange:k,css:{width:"100%"}})}),(0,y.jsx)(f.ZP,{type:"submit",css:{background:"#333435"},size:"lg",onClick:j,children:"LogIn"})]})]}),(0,y.jsx)(b.Z,{open:null===P||void 0===P?void 0:P.open,autoHideDuration:4e3,onClose:S,bodyStyle:{maxWidth:"100%"},children:(0,y.jsx)(E,{onClose:S,severity:null===P||void 0===P?void 0:P.severity,sx:{width:"100%"},children:null===P||void 0===P?void 0:P.msg})})]})}}}]);
//# sourceMappingURL=17.a10fccf0.chunk.js.map
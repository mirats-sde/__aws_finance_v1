"use strict";(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[8798,6839,9356],{6839:function(e,n,i){i.r(n),i.d(n,{default:function(){return b}});var t=i(885),a={header:"Header_header__d+igc",active:"Header_active__7nHMJ",header_left:"Header_header_left__b5+S6",header_right:"Header_header_right__Yp9r9",right:"Header_right__b7qNX",sign_in:"Header_sign_in__l1VlE",portalprofile:"Header_portalprofile__Qf5Cm",avatar_profile:"Header_avatar_profile__WRaZm",navTitles:"Header_navTitles__hJeSy",dropdownContainer:"Header_dropdownContainer__uA-2z",dropdownLists:"Header_dropdownLists__enHds",myNav:"Header_myNav__3EAW-"},s=i(9714),l=i(7689),o=i(1087),r=i(6809),d=i(6149),c=i(3811),u=i(7997),h=i(7254),x=i(5514),p=i(3564),v=i(2791),m=i(6205),j=i(9460),f=i(5933),_=i(6910),g=i(184),b=function(){var e=(0,v.useState)(null),n=(0,t.Z)(e,2),i=n[0],b=n[1],y=(0,_.F_)(f.I8),N=(0,t.Z)(y,1)[0],Z=Boolean(i),w=function(){b(null)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("div",{className:a.header,children:(0,g.jsxs)("header",{children:[(0,g.jsxs)("div",{className:a.header_left,children:[(0,g.jsx)("figure",{children:(0,g.jsx)("img",{src:s,alt:""})}),(0,g.jsxs)("div",{className:a.navCenterBody,children:[(0,g.jsx)(o.OL,{to:"/invoices",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Invoices"})}),(0,g.jsx)(o.OL,{to:"/vendors",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Vendors"})}),(0,g.jsx)(o.OL,{to:"/vendor-invoice",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Vendor Invoices"})}),(0,g.jsx)(o.OL,{to:"/client-report",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Client Report"})}),(0,g.jsx)(o.OL,{to:"/clients",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Clients"})}),(0,g.jsxs)("span",{className:a.dropdownContainer,children:[(0,g.jsx)("span",{className:a.myNav,children:"others"}),(0,g.jsxs)("ul",{className:a.dropdownLists,children:[(0,g.jsx)("li",{children:(0,g.jsx)(o.OL,{to:"/bank",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Bank"})})}),(0,g.jsx)("li",{children:(0,g.jsx)(o.OL,{to:"/companies",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Companies"})})}),(0,g.jsx)("li",{children:(0,g.jsx)(o.OL,{to:"/expense",className:function(e){return e.isActive?a.active:""},children:(0,g.jsx)("span",{className:a.nav_name,children:"Expense"})})})]})]})]})]}),(0,g.jsxs)("div",{className:a.right,children:[(0,g.jsx)("section",{}),(0,g.jsxs)("section",{className:a.sign_in,children:[(0,g.jsx)(r.Z,{children:(0,g.jsx)(d.Z,{title:"Account settings",children:(0,g.jsx)(c.Z,{onClick:function(e){b(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":Z?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":Z?"true":void 0,children:(0,g.jsx)(p.ZP,{size:"lg",bordered:!0,zoomed:!0,className:a.avatar_img})})})}),(0,g.jsxs)(u.Z,{anchorEl:i,id:"account-menu",open:Z,onClose:w,onClick:w,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,g.jsxs)(h.Z,{children:[(0,g.jsx)(p.ZP,{size:"sm",bordered:!0,className:a.avatar_img})," ",(0,g.jsx)("span",{className:a.avatar_profile,children:null===N||void 0===N?void 0:N.email})]}),(0,g.jsxs)(h.Z,{onClick:function(){(0,j.w7)(f.I8).then((function(e){return(0,g.jsx)(l.Fg,{to:"/login"})}))},children:[(0,g.jsx)(x.Z,{children:(0,g.jsx)(m.Z,{fontSize:"small"})}),"Logout"]})]})]})]})]})})})}},8798:function(e,n,i){i.r(n),i.d(n,{default:function(){return z}});var t,a=i(4942),s=i(168),l=i(4165),o=i(1413),r=i(2982),d=i(5861),c=i(885),u=i(2791),h=i(6839),x="Expense_invoice_table_container__dS-W1",p="Expense_left_invoice_table__mqgQQ",v="Expense_table_header__UDqsL",m="Expense_left_table_header__cQnTm",j="Expense_icon__t5tmf",f="Expense_right_header__tNPmO",_="Expense_invoice_table__gQSF2",g="Expense_modalContainer__SP+SA",b="Expense_modalLeftContainer__odruh",y="Expense_modalRightContainer__1u6a3",N="Expense_innerRightDiv__WWTLZ",Z="Expense_downloadBillBTN__KBbEz",w="Expense_BTNConatainer__bDotd",C=i(7689),S=i(7799),k=i(5933),E=i(3457),P=i(3677),A=i(5923),B=i(6809),M=i(9126),D=i(4045),T=i(2426),L=i.n(T),F=i(828),H=i(276),O=i(9356),U=i(184),z=function(){var e,n,i,T,z,Y=(0,C.s0)(),I=(0,u.useState)([]),J=(0,c.Z)(I,2),W=J[0],R=J[1],G=(0,u.useState)(""),Q=(0,c.Z)(G,2),q=Q[0],V=Q[1],K=(0,u.useState)(""),X=(0,c.Z)(K,2),$=X[0],ee=X[1],ne=(0,u.useState)([]),ie=(0,c.Z)(ne,2),te=ie[0],ae=ie[1],se=(0,O.UseGlobalContext)().setSnackbar,le=(0,u.useState)(0),oe=(0,c.Z)(le,2),re=oe[0],de=oe[1],ce=(0,u.useState)(5),ue=(0,c.Z)(ce,2),he=ue[0],xe=ue[1],pe=(0,u.useState)([]),ve=(0,c.Z)(pe,2),me=(ve[0],ve[1]),je=(0,u.useState)({}),fe=(0,c.Z)(je,2),_e=fe[0],ge=fe[1],be=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.PL)((0,S.IO)((0,S.hJ)(k.iW,"expenses"))).then((function(e){R([]),e.forEach((function(e){console.log(e.data().bill_id),R((function(n){return[].concat((0,r.Z)(n),[(0,o.Z)({},e.data())])})),me((function(n){return[].concat((0,r.Z)(n),[(0,o.Z)({},e.data())])}))}))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D.P6,e.next=3,fetch("../../assets/data.xlsx");case 3:return e.next=5,e.sent.arrayBuffer();case 5:e.t1=e.sent,n=e.t0.readFile.call(e.t0,e.t1),console.log(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){be(),ye()}),[]);var Ne=(0,E.Z)(P.Z)(t||(t=(0,s.Z)(["\n    & .MuiTablePaginationUnstyled-toolbar {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n      gap: 12px;\n      padding: 0.5em 0em;\n\n      @media (min-width: 768px) {\n        flex-direction: row;\n        align-items: center;\n      }\n    }\n\n    & .MuiTablePaginationUnstyled-selectLabel {\n      margin: 0;\n    }\n\n    & .MuiTablePaginationUnstyled-select {\n      padding: 0.1em 1em;\n      border-radius: 5px;\n      box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n        rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n      border: none;\n      font-weight: 700;\n      font-size: 14px;\n      color: #484848;\n      outline: none;\n    }\n\n    & .MuiTablePaginationUnstyled-displayedRows {\n      margin: 0;\n\n      @media (min-width: 768px) {\n        margin-left: auto;\n      }\n    }\n\n    & .MuiTablePaginationUnstyled-spacer {\n      display: none;\n    }\n\n    & .MuiTablePaginationUnstyled-actions {\n      display: flex;\n      gap: 0.5rem;\n      padding: 0.5em;\n    }\n\n    & .MuiTablePaginationUnstyled-actions button {\n      padding: 0.1em 0.5em;\n      border: 1px solid #828282;\n      cursor: pointer;\n      background-color: white;\n      border-radius: 5px;\n      box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n        rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n      border: none;\n    }\n\n    & .MuiTablePaginationUnstyled-actions span {\n      // padding: 0 0.8em;\n      padding: 1em;\n      color: #484848;\n      font-weight: 700;\n    }\n  "]))),Ze=(0,u.useState)(!1),we=(0,c.Z)(Ze,2),Ce=we[0],Se=we[1],ke=L()(),Ee=L()().subtract(Number(null===_e||void 0===_e?void 0:_e.days),"days"),Pe=L()().subtract(7,"days");console.log("Today is "+ke.format("MMM Do YYYY")),console.log("Is "+ke.format("MMM Do YYYY")+" included in the last seven days?"),console.log(ke.isBetween(Pe,ke,"day","[]"));function Ae(){return(Ae=(0,d.Z)((0,l.Z)().mark((function e(n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.oe)((0,S.JU)(k.iW,"expenses",String(null===n||void 0===n?void 0:n.bill_id))).then((function(e){return(0,H.aF)((0,H.iH)(k.tO,"expense/".concat(null===n||void 0===n?void 0:n.bill_id))).then((function(e){e.items.forEach((function(e){(0,H.oq)(e).then((function(e){se({open:!0,msg:"Expense Deleted Successfully!",severity:"error"}),Se(!1),be()})).catch((function(e){se({open:!0,msg:"Expense Deleted Successfully!",severity:"error"}),Se(!1),be()}))}))}))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(h.default,{}),(0,U.jsxs)("div",{className:x,children:[(0,U.jsxs)("div",{className:p,children:[(0,U.jsxs)("div",{className:v,children:[(0,U.jsxs)("div",{className:m,children:[(0,U.jsx)("button",{onClick:function(){return Y("/add-expense")},children:"Add Expense"}),(0,U.jsx)("input",{type:"search",className:j,placeholder:"Search....",onChange:function(e){V(e.target.value),""!==e.target.value?xe(-1):xe(10)}})]}),(0,U.jsxs)("div",{className:f,children:[(0,U.jsxs)("select",{name:"days",onChange:function(e){ge((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,a.Z)({},e.target.name,e.target.value))})),""!==e.target.value?xe(-1):xe(10)},children:[(0,U.jsx)("option",{value:"",diabled:!0,selected:!0,children:"Select: Days"}),(0,U.jsx)("option",{value:"7",children:"1 Week"}),(0,U.jsx)("option",{value:"30",children:"1 Month"}),(0,U.jsx)("option",{value:"90",children:"3 Months"}),(0,U.jsx)("option",{value:"180",children:"6 Months"})]}),(0,U.jsxs)("select",{name:"year",onChange:function(e){ge((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,a.Z)({},e.target.name,e.target.value))})),""!==e.target.value?xe(-1):xe(10)},children:[(0,U.jsx)("option",{value:"",selected:!0,children:"Select : Year"}),(0,U.jsx)("option",{value:"2022",children:"2022"}),(0,U.jsx)("option",{value:"2021",children:"2021"}),(0,U.jsx)("option",{value:"2020",children:"2020"}),(0,U.jsx)("option",{value:"2019",children:"2019"}),(0,U.jsx)("option",{value:"2018",children:"2018"})]}),(0,U.jsxs)("select",{name:"filterByMonth",onChange:function(e){ee(e.target.value),""!==e.target.value?xe(-1):xe(10)},children:[(0,U.jsx)("option",{value:"",selected:!0,children:"Filter: All"}),(0,U.jsx)("option",{value:"0",children:"January"}),(0,U.jsx)("option",{value:"1",children:"February"}),(0,U.jsx)("option",{value:"2",children:"March"}),(0,U.jsx)("option",{value:"3",children:"April"}),(0,U.jsx)("option",{value:"4",children:"May"}),(0,U.jsx)("option",{value:"5",children:"June"}),(0,U.jsx)("option",{value:"6",children:"July"}),(0,U.jsx)("option",{value:"7",children:"August"}),(0,U.jsx)("option",{value:"8",children:"September"}),(0,U.jsx)("option",{value:"9",children:"October"}),(0,U.jsx)("option",{value:"9",children:"November"}),(0,U.jsx)("option",{value:"10",children:"December"})]}),(0,U.jsx)(M.wbB,{size:29,onClick:function(e){var n=document.getElementById("table-to-xls-DATA"),i=D.P6.table_to_book(n,{sheet:"Sheet JS"});return(0,D.NC)(i,"Expenses.xlsx")},style:{cursor:"pointer"}})]})]}),(0,U.jsx)("div",{className:_,children:(0,U.jsxs)("table",{id:"table-to-xls-DATA",children:[(0,U.jsx)("thead",{children:(0,U.jsxs)("tr",{children:[(0,U.jsx)("th",{children:"Company Name"}),(0,U.jsx)("th",{children:"Bill Amount"}),(0,U.jsx)("th",{children:"Expense Nature"}),(0,U.jsx)("th",{children:"Payment Method"}),(0,U.jsx)("th",{children:"Bill Date"}),(0,U.jsx)("th",{})]})}),(0,U.jsx)("tbody",{children:null===(e=he>0?null===W||void 0===W?void 0:W.slice(re*he,re*he+he):W)||void 0===e||null===(n=e.filter((function(e){var n,i;return q?null===e||void 0===e||null===(n=e.company_name)||void 0===n||null===(i=n.toLowerCase())||void 0===i?void 0:i.includes(null===q||void 0===q?void 0:q.toLowerCase()):e})))||void 0===n||null===(i=n.filter((function(e){return $?new Date(null===e||void 0===e?void 0:e.selected_date).getMonth()==$:e})))||void 0===i||null===(T=i.filter((function(e){return null!==_e&&void 0!==_e&&_e.year?new Date(null===e||void 0===e?void 0:e.selected_date).getFullYear()==(null===_e||void 0===_e?void 0:_e.year):e})))||void 0===T||null===(z=T.filter((function(e){return null!==_e&&void 0!==_e&&_e.days?new Date(null===e||void 0===e?void 0:e.selected_date)>=new Date(null===Ee||void 0===Ee?void 0:Ee._d):e})))||void 0===z?void 0:z.map((function(e,n){var i;return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("tr",{children:[(0,U.jsxs)("td",{onClick:function(){return function(e){Se(!0),ae([e])}(e)},children:[null===e||void 0===e?void 0:e.company_name,(0,U.jsx)("br",{})]}),(0,U.jsx)("td",{style:{textAlign:"start"},children:(0,U.jsxs)("p",{children:["\u20b9 ",null===e||void 0===e?void 0:e.bill_amount]})}),(0,U.jsx)("td",{children:(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.expense_nature})}),(0,U.jsx)("td",{children:(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.payment_method})}),(0,U.jsx)("td",{children:(0,U.jsx)("p",{children:null===(i=new Date(null===e||void 0===e?void 0:e.selected_date))||void 0===i?void 0:i.toDateString()})})]},n)})}))}),(0,U.jsx)("tfoot",{children:(0,U.jsx)("tr",{children:(0,U.jsx)(Ne,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:null===W||void 0===W?void 0:W.length,rowsPerPage:he,page:re,componentsProps:{select:{"aria-label":"rows per page"},actions:{showFirstButton:!0,showLastButton:!0}},onPageChange:function(e,n){de(n)},onRowsPerPageChange:function(e){xe(parseInt(e.target.value,10)),de(0)}})})})]})})]}),(0,U.jsx)(A.Z,{open:Ce,onClose:function(){Se(!1),ae([])},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,U.jsx)(B.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:1200,bgcolor:"background.paper",boxShadow:24,p:4},children:(0,U.jsx)("div",{className:g,children:null===te||void 0===te?void 0:te.map((function(e,n){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:b,children:(0,U.jsx)("a",{href:null===e||void 0===e?void 0:e.image_url,target:"_blank",children:(0,U.jsx)("img",{src:null===e||void 0===e?void 0:e.image_url,alt:""})})}),(0,U.jsxs)("div",{className:y,children:[(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Company Name :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.company_name})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Bill Amount :"}),(0,U.jsxs)("p",{children:["\u20b9",null===e||void 0===e?void 0:e.bill_amount]})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Expense Nature :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.expense_nature})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Payment Method :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.payment_method})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Bill Date :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.selected_date})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Bill Description :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.description})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"GST Number:"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.GST_number})]}),(0,U.jsxs)("div",{className:N,children:[(0,U.jsx)("p",{children:"Uploaded By :"}),(0,U.jsx)("p",{children:null===e||void 0===e?void 0:e.uploaded_by})]}),(0,U.jsxs)("section",{className:w,children:[(0,U.jsx)("button",{className:Z,onClick:function(){return Y("/edit-expense/".concat(null===e||void 0===e?void 0:e.bill_id))},children:"Edit"}),(0,U.jsx)("button",{className:Z,onClick:function(n){return function(e){var n=D.P6.book_new(),i=D.P6.json_to_sheet([e]);D.P6.book_append_sheet(n,i,"Sheet1"),(0,D.NC)(n,"All-Vendors-Bills.xlsx")}(e)},children:"Download Bill"}),(0,U.jsx)("button",{className:Z,onClick:function(n){return function(e){return Ae.apply(this,arguments)}(e)},children:(0,U.jsx)(F._51,{})})]})]})]})}))})})})]})]})}},9356:function(e,n,i){i.r(n),i.d(n,{UseGlobalContext:function(){return v}});var t=i(1413),a=i(2982),s=i(885),l=i(4569),o=i.n(l),r=i(276),d=i(2791),c=i(5933),u=i(1647),h=i(1508),x=i(184),p=(0,d.createContext)(),v=function(){return(0,d.useContext)(p)};n.default=function(e){var n=e.children,i=(0,d.useState)([]),l=(0,s.Z)(i,2),v=l[0],m=l[1],j=(0,d.useState)({open:!1,severity:"",msg:""}),f=(0,s.Z)(j,2),_=f[0],g=f[1],b=(0,d.useState)([]),y=(0,s.Z)(b,2),N=y[0],Z=y[1],w=(0,d.useState)([]),C=(0,s.Z)(w,2),S=(C[0],C[1],(0,d.useState)(!1)),k=(0,s.Z)(S,2),E=k[0],P=k[1],A=function(){o().get("https://finance.miratsoneservices.com/api/get-bank-transaction").then((function(e){m(null===e||void 0===e?void 0:e.data)}))};(0,d.useEffect)((function(){A(),(0,r.aF)((0,r.iH)(c.tO,(0,r.iH)("bank_statement"))).then((function(e){e.prefixes.forEach((function(e){Z((function(n){return[].concat((0,a.Z)(n),[e.name])}))})),e.items.forEach((function(e){console.log(e)}))}))}),[]);var B={bankTransaction:v,name:"sonumonu",getingImgFromFolder:N,setGetingImgFromFolder:Z,getBankTransaction:A,setSnackbar:g,disableBtn:E,setDisableBtn:P},M=d.forwardRef((function(e,n){return(0,x.jsx)(h.Z,(0,t.Z)({elevation:6,ref:n,variant:"filled"},e))})),D=function(e,n){"clickaway"!==n&&g({open:!1})};return(0,x.jsxs)(p.Provider,{value:B,children:[n,(0,x.jsx)(u.Z,{open:null===_||void 0===_?void 0:_.open,autoHideDuration:4e3,onClose:D,children:(0,x.jsx)(M,{onClose:D,severity:null===_||void 0===_?void 0:_.severity,sx:{width:"100%"},children:null===_||void 0===_?void 0:_.msg})})]})}},9714:function(e,n,i){e.exports=i.p+"static/media/miratsLogo.b2dc32dbe312888e3144.png"}}]);
//# sourceMappingURL=8798.e22b8025.chunk.js.map
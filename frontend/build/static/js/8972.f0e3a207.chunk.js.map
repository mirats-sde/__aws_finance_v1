{"version":3,"file":"static/js/8972.f0e3a207.chunk.js","mappings":"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","sources":["webpack://invoive/./src/components/header/Header.module.css?f437","components/header/Header.js","pages/customers/customerContex/CustomerContext.js","pages/globalContext/GlobalContext.js","pages/invoices/edit-invoice/EditDomesticInvoice.js","pages/invoices/edit-invoice/EditInternationalInvoice.js","pages/invoices/edit-invoice/EditInvoice.js","pages/invoices/invoiceContext/InvoiceContext.js","webpack://invoive/./src/pages/invoices/domestic_invoice/DomesticInvoice.module.css?afd7"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"header\":\"Header_header__d+igc\",\"active\":\"Header_active__7nHMJ\",\"header_left\":\"Header_header_left__b5+S6\",\"header_right\":\"Header_header_right__Yp9r9\",\"right\":\"Header_right__b7qNX\",\"sign_in\":\"Header_sign_in__l1VlE\",\"portalprofile\":\"Header_portalprofile__Qf5Cm\",\"avatar_profile\":\"Header_avatar_profile__WRaZm\",\"navTitles\":\"Header_navTitles__hJeSy\",\"dropdownContainer\":\"Header_dropdownContainer__uA-2z\",\"dropdownLists\":\"Header_dropdownLists__enHds\",\"myNav\":\"Header_myNav__3EAW-\"};","import styles from \"./Header.module.css\";\nimport logo from \"../../assets/miratsLogo.png\";\nimport { Link, Navigate, NavLink } from \"react-router-dom\";\nimport {\n  Box,\n  IconButton,\n  ListItemIcon,\n  Menu,\n  MenuItem,\n  Tooltip,\n} from \"@mui/material\";\nimport { Avatar } from \"@nextui-org/react\";\nimport { useState } from \"react\";\nimport { Logout } from \"@mui/icons-material\";\nimport { signOut } from \"firebase/auth\";\nimport { auth } from \"../../FirebaseConfig\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nconst Header = () => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [user] = useAuthState(auth);\n  const open = Boolean(anchorEl);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  // console.log(user);\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const logOut = () => {\n    signOut(auth).then((data) => <Navigate to=\"/login\" />);\n  };\n  return (\n    <>\n      <div className={styles.header}>\n        <header>\n          <div className={styles.header_left}>\n            <figure>\n              <img src={logo} alt=\"\" />\n            </figure>\n            <div className={styles.navCenterBody}>\n              {/* <NavLink\n                to=\"/\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Dashboard</span>\n              </NavLink> */}\n\n              <NavLink\n                to=\"/invoices\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Invoices</span>\n              </NavLink>\n              <NavLink\n                to=\"/vendors\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Vendors</span>\n              </NavLink>\n              <NavLink\n                to=\"/vendor-invoice\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Vendor Invoices</span>\n              </NavLink>\n              <NavLink\n                to=\"/client-report\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Client Report</span>\n              </NavLink>\n              <NavLink\n                to=\"/clients\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Clients</span>\n              </NavLink>\n              {/* <NavLink\n                to=\"/bank\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Bank</span>\n              </NavLink>\n              <NavLink\n                to=\"/companies\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Companies</span>\n              </NavLink>\n              <NavLink\n                to=\"/expense\"\n                className={({ isActive }) => (isActive ? styles.active : \"\")}\n              >\n                <span className={styles.nav_name}>Expense</span>\n              </NavLink> */}\n              <span className={styles.dropdownContainer}>\n                <span className={styles.myNav}>others</span>\n                <ul className={styles.dropdownLists}>\n                  <li>\n                    <NavLink\n                      to=\"/bank\"\n                      className={({ isActive }) =>\n                        isActive ? styles.active : \"\"\n                      }\n                    >\n                      <span className={styles.nav_name}>Bank</span>\n                    </NavLink>\n                  </li>\n                  <li>\n                    <NavLink\n                      to=\"/companies\"\n                      className={({ isActive }) =>\n                        isActive ? styles.active : \"\"\n                      }\n                    >\n                      <span className={styles.nav_name}>Companies</span>\n                    </NavLink>\n                  </li>\n                  <li>\n                    <NavLink\n                      to=\"/expense\"\n                      className={({ isActive }) =>\n                        isActive ? styles.active : \"\"\n                      }\n                    >\n                      <span className={styles.nav_name}>Expense</span>\n                    </NavLink>\n                  </li>\n                </ul>\n              </span>\n            </div>\n          </div>\n          <div className={styles.right}>\n            <section>\n              {/* <Link className={styles.create_company} to=\"/create-company\">\n                Create Company\n              </Link> */}\n            </section>\n            <section className={styles.sign_in}>\n              {/* <section className={styles.sign_in_details}>\n                <p>Rohan Gupta</p>\n                <p>Recruitment Coordinator</p>\n              </section> */}\n\n              <Box>\n                <Tooltip title=\"Account settings\">\n                  <IconButton\n                    onClick={handleClick}\n                    size=\"small\"\n                    sx={{ ml: 2 }}\n                    aria-controls={open ? \"account-menu\" : undefined}\n                    aria-haspopup=\"true\"\n                    aria-expanded={open ? \"true\" : undefined}\n                  >\n                    {/* <Avatar>\n                      <figure className={styles.portalprofile}>\n                        <img\n                          src={steve}\n                          alt=\"profileimg\"\n                          className={styles.avatar_img}\n                        />\n                      </figure>\n                    </Avatar> */}\n                    <Avatar\n                      size=\"lg\"\n                      //   src={steve}\n                      //   color=\"primary\"\n                      bordered\n                      zoomed\n                      className={styles.avatar_img}\n                    />\n                  </IconButton>\n                </Tooltip>\n              </Box>\n              <Menu\n                anchorEl={anchorEl}\n                id=\"account-menu\"\n                open={open}\n                onClose={handleClose}\n                onClick={handleClose}\n                PaperProps={{\n                  elevation: 0,\n                  sx: {\n                    overflow: \"visible\",\n                    filter: \"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))\",\n                    mt: 1.5,\n                    \"& .MuiAvatar-root\": {\n                      width: 32,\n                      height: 32,\n                      ml: -0.5,\n                      mr: 1,\n                    },\n                    \"&:before\": {\n                      content: '\"\"',\n                      display: \"block\",\n                      position: \"absolute\",\n                      top: 0,\n                      right: 14,\n                      width: 10,\n                      height: 10,\n                      bgcolor: \"background.paper\",\n                      transform: \"translateY(-50%) rotate(45deg)\",\n                      zIndex: 0,\n                    },\n                  },\n                }}\n                transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n                anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n              >\n                <MenuItem>\n                  <Avatar\n                    size=\"sm\"\n                    // src={steve}\n                    // color=\"primary\"\n                    bordered\n                    className={styles.avatar_img}\n                  />{\" \"}\n                  <span className={styles.avatar_profile}>{user?.email}</span>\n                </MenuItem>\n                <MenuItem onClick={logOut}>\n                  <ListItemIcon>\n                    <Logout fontSize=\"small\" />\n                  </ListItemIcon>\n                  Logout\n                </MenuItem>\n              </Menu>\n            </section>\n          </div>\n        </header>\n      </div>\n    </>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { UseGlobalContext } from \"../../globalContext/GlobalContext\";\nconst CustomerContextProvider = createContext();\nexport const useCustomerContext = () => {\n  return useContext(CustomerContextProvider);\n};\nconst CustomerContext = ({ children }) => {\n  const navigate = useNavigate();\n  const { setSnackbar } = UseGlobalContext();\n  const [customerInputData, setCustomerInputData] = useState({\n    billing_address: { place_of_supply: \"INTERNATIONAL\" },\n    shipping_address: { place_of_supply: \"INTERNATIONAL\" },\n  });\n  const [disableBTN, setDisableBTN] = useState(false);\n  const [allCustomerData, setAllCustomerData] = useState([]);\n\n  const handleChange = (e) => {\n    setCustomerInputData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const customerBillingAddressChange = (e) => {\n    setCustomerInputData((prev) => ({\n      ...prev,\n      billing_address: {\n        ...prev.billing_address,\n        [e.target.name]: e.target.value,\n      },\n    }));\n  };\n  const customerShippingAddressChange = (e) => {\n    setCustomerInputData((prev) => ({\n      ...prev,\n      shipping_address: {\n        ...prev.shipping_address,\n        [e.target.name]: e.target.value,\n      },\n    }));\n  };\n  const getAllCustomerData = useCallback(() => {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-customer\")\n      .then((res) => {\n        setAllCustomerData(res?.data);\n      })\n      .catch((err) => console.log(err));\n  }, [allCustomerData]);\n  useEffect(() => {\n    getAllCustomerData();\n  }, []);\n  const submitAddCustomer = () => {\n    console.log(\"submit\");\n    setDisableBTN(true);\n    navigate(\"/clients\");\n    axios\n      .post(\n        \"https://finance.miratsoneservices.com/api/create-customer\",\n        customerInputData\n      )\n      .then((res) => {\n        console.log(res.data);\n        axios.post(\n          \"https://finance.miratsoneservices.com/api/create-tax-information\",\n          {\n            customer_id: res.data.customer_id,\n            ...customerInputData?.tax_information,\n          }\n        );\n        axios.post(\n          \"https://finance.miratsoneservices.com/api/create-billing-address\",\n          {\n            customer_id: res.data.customer_id,\n            ...customerInputData?.billing_address,\n          }\n        );\n        axios.post(\n          \"https://finance.miratsoneservices.com/api/create-shipping_address\",\n          {\n            customer_id: res.data.customer_id,\n            ...customerInputData?.shipping_address,\n          }\n        );\n        axios\n          .post(\n            \"https://finance.miratsoneservices.com/api/create-customer-bank-details\",\n            {\n              customer_id: res.data.customer_id,\n              ...customerInputData?.bank_details,\n            }\n          )\n          .then(\n            (data) => getAllCustomerData(),\n            setDisableBTN(false),\n            setSnackbar({\n              open: true,\n              severity: \"success\",\n              msg: \"Customer Added Successfully!\",\n            })\n          );\n      })\n      .catch((err) => console.log(err));\n\n    //   .catch((err) => console.log(err));\n\n    // axios\n    //   .post(\"https://finance.miratsoneservices.com/api/create-customer\", customerInputData)\n    //   .then(() => alert(\"success\"))\n    //   .catch((err) => console.log(err));\n  };\n  const value = {\n    handleChange,\n    disableBTN,\n    setDisableBTN,\n    customerInputData,\n    getAllCustomerData,\n    setCustomerInputData,\n    customerBillingAddressChange,\n    customerShippingAddressChange,\n    submitAddCustomer,\n    allCustomerData,\n    setAllCustomerData,\n  };\n  return (\n    <CustomerContextProvider.Provider value={value}>\n      {children}\n    </CustomerContextProvider.Provider>\n  );\n};\n\nexport default CustomerContext;\n","import axios from \"axios\";\nimport { listAll, ref } from \"firebase/storage\";\nimport React, { createContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { storage } from \"../../FirebaseConfig\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\nconst GlobalContextProvider = createContext();\nexport const UseGlobalContext = () => {\n  return useContext(GlobalContextProvider);\n};\nconst GlobalContext = ({ children }) => {\n  const [bankTransaction, setBankTransaction] = useState([]);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    severity: \"\",\n    msg: \"\",\n  });\n  const [getingImgFromFolder, setGetingImgFromFolder] = useState([]);\n  const [exportExcel, setExportExcel] = useState([]);\n  const [disableBtn, setDisableBtn] = useState(false);\n\n  const getBankTransaction = () => {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-bank-transaction\")\n      .then((data) => {\n        setBankTransaction(data?.data);\n      });\n  };\n\n  useEffect(() => {\n    getBankTransaction();\n    listAll(ref(storage, ref(`bank_statement`))).then((res) => {\n      res.prefixes.forEach((folderRef) => {\n        setGetingImgFromFolder((prev) => [...prev, folderRef.name]);\n      });\n      res.items.forEach((itemref) => {\n        console.log(itemref);\n      });\n    });\n  }, []);\n\n  // console.log(bankTransaction);\n  let name = \"sonumonu\";\n  const value = {\n    bankTransaction,\n    name,\n    getingImgFromFolder,\n    setGetingImgFromFolder,\n    getBankTransaction,\n    setSnackbar,\n    disableBtn,\n    setDisableBtn,\n  };\n  // snackbar\n  const Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n  });\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setSnackbar({ open: false });\n  };\n  return (\n    <GlobalContextProvider.Provider value={value}>\n      {children}\n      <Snackbar\n        open={snackbar?.open}\n        autoHideDuration={4000}\n        onClose={handleClose}\n      >\n        <Alert\n          onClose={handleClose}\n          severity={snackbar?.severity}\n          sx={{ width: \"100%\" }}\n        >\n          {snackbar?.msg}\n        </Alert>\n      </Snackbar>\n    </GlobalContextProvider.Provider>\n  );\n};\n\nexport default GlobalContext;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport styles from \"../domestic_invoice/DomesticInvoice.module.css\";\nimport { RiDeleteBinLine } from \"react-icons/ri\";\nimport { useInvoiceContext } from \"../invoiceContext/InvoiceContext\";\nimport { useCustomerContext } from \"../../customers/customerContex/CustomerContext\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { UseGlobalContext } from \"../../globalContext/GlobalContext\";\nimport Modal from \"@mui/material/Modal\";\nimport { Box, Typography } from \"@mui/material\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\nimport { storage } from \"../../../FirebaseConfig\";\nconst EditDomesticInvoice = () => {\n  const { invoiceNumber } = useParams();\n  const { invoiceID } = useParams();\n  const [itemCalc, setItemCalc] = useState([\n    {\n      item: \"\",\n      quantity: \"\",\n      rate: \"\",\n      gst: 18,\n      amount: 0,\n      description: \"\",\n      taxable_amount: \"\",\n      gstAmount: \"\",\n    },\n  ]);\n  const {\n    allCompanyData,\n    allInvoicesData,\n    fetchAllCompanyData,\n    fetchAllInvoicesData,\n  } = useInvoiceContext();\n  const { allCustomerData } = useCustomerContext();\n  const [invoiceData, setInvoiceData] = useState({});\n  const [company, setCompany] = useState([]);\n  const [invoices, setInvoices] = useState([]);\n  const navigate = useNavigate();\n  const [selectSign, setSelectSign] = useState({});\n  const { signatureData, fetchAllSignatureData } = useInvoiceContext();\n  const [signatureModalInputData, setSignatureModalInputData] = useState({});\n  const [open, setOpen] = useState(false);\n  const handleOpen = (e) => {\n    e.preventDefault();\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setSignatureModalInputData({});\n  };\n  const handleChange = (e, ind) => {\n    const newArr = [...invoiceData?.orders];\n    newArr[ind][e.target.name] = e.target.value;\n    newArr[ind][\"gstAmount\"] =\n      (Number(newArr[ind]?.rate * newArr[ind]?.quantity) * newArr[ind]?.gst) /\n      100;\n    newArr[ind][\"taxable_amount\"] =\n      newArr[ind]?.quantity && newArr[ind]?.rate\n        ? Number(newArr[ind]?.quantity * newArr[ind]?.rate)\n        : \"\";\n    newArr[ind][\"amount\"] = Number(\n      newArr[ind]?.quantity && newArr[ind]?.rate\n        ? Number(newArr[ind]?.quantity * newArr[ind]?.rate) && newArr[ind]?.gst\n          ? Number(\n              Number(newArr[ind]?.quantity * newArr[ind]?.rate) *\n                newArr[ind]?.gst\n            ) /\n              100 +\n            Number(Number(newArr[ind]?.quantity * newArr[ind]?.rate))\n          : newArr[ind]?.quantity * newArr[ind]?.rate\n        : 0\n    );\n    setInvoiceData((prev) => ({ ...prev, orders: newArr }));\n  };\n  const { setSnackbar } = UseGlobalContext();\n\n  const addItemCalc = (e) => {\n    e.preventDefault();\n\n    setInvoiceData((prev) => ({\n      ...prev,\n      orders: [\n        ...prev?.orders,\n        {\n          item: \"\",\n          quantity: \"\",\n          rate: \"\",\n          gst: 18,\n          amount: 0,\n          description: \"\",\n        },\n      ],\n    }));\n  };\n\n  const deleteItemCalc = (item, i) => {\n    const deleteData = invoiceData?.orders;\n    setInvoiceData((prev) => ({\n      ...prev,\n      orders: deleteData.filter((_, index) => index !== i),\n    }));\n    axios.delete(\n      `https://finance.miratsoneservices.com/api/delete-order/${item?.order_id}`\n    );\n    console.log(item);\n  };\n\n  const handleChangeInput = (e) => {\n    setInvoiceData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const updateInvoice = (e) => {\n    e.preventDefault();\n    let invoiceMatch = allInvoicesData?.filter(\n      (data) => data?.company_id == invoiceData?.company_id\n    );\n    let invoiceNumberExists = invoiceMatch?.filter(\n      (data) => data?.invoice_number == invoiceData?.invoice_number\n    );\n\n    if (\n      !invoiceNumberExists?.length ||\n      invoiceNumber == invoiceNumberExists[0]?.invoice_number\n    ) {\n      axios\n        .put(\n          `https://finance.miratsoneservices.com/api/update-invoice/${Number(\n            invoiceID\n          )}`,\n          invoiceData\n        )\n        .then((res) => {\n          for (let i = 0; i < invoiceData?.orders?.length; i++) {\n            let myObj = invoiceData?.orders[i];\n            if (myObj.hasOwnProperty(\"order_id\")) {\n              console.log(\"updating order \" + myObj.order_id);\n              // put request to update the order\n              axios\n                .put(\n                  `https://finance.miratsoneservices.com/api/update-order/${myObj.order_id}`,\n                  myObj\n                )\n                .then(\n                  (res) => console.log(res.data),\n                  fetchAllCompanyData(),\n                  fetchAllInvoicesData(),\n                  setSnackbar({\n                    open: true,\n                    severity: \"success\",\n                    msg: \"Invoice Updated Successfully!\",\n                  })\n                )\n                .catch((err) => console.log(err));\n            } else {\n              console.log(\n                \"creating new order in invoice \" + invoiceData.invoice_id\n              );\n              axios\n                ?.post(\n                  \"https://finance.miratsoneservices.com/api/create-order\",\n                  {\n                    invoice_id: invoiceData.invoice_id,\n                    ...myObj,\n                  }\n                )\n                .then(\n                  (res) => console.log(\"Invoice updated\" + res.data),\n                  fetchAllCompanyData(),\n                  fetchAllInvoicesData(),\n                  setSnackbar({\n                    open: true,\n                    severity: \"success\",\n                    msg: \"Invoice Updated Successfully!\",\n                  })\n                )\n                .catch((err) => console.log(err));\n            }\n          }\n        });\n      setSnackbar({\n        open: true,\n        severity: \"success\",\n        msg: \"Invoice Updated Successfully\",\n      });\n      navigate(\"/invoices\");\n    } else {\n      alert(\"Invoice number already exists\");\n    }\n  };\n  console.log(invoiceData);\n  //   console.log(allCompanyData);\n\n  let customer = allCustomerData?.filter(\n    (elm) => elm?.customer_id == invoiceData?.customer_id\n  );\n  // let company = allCompanyData?.filter(\n  //   (elm) => elm?.company_id == invoiceData?.company_id\n  // );\n  let invoice = allInvoicesData?.filter(\n    (invData) => invData?.company_id == company[0]?.company_id\n  );\n  let prevInvoiceNumber =\n    Number(\n      invoice?.reverse()?.[invoice?.length - 1]?.invoice_number?.slice(4)\n    ) + 1;\n\n  useEffect(() => {\n    let taxable_amount = invoiceData?.orders\n      ?.reduce((acc, cur) => {\n        return Number(acc + cur?.taxable_amount);\n      }, 0)\n      ?.toFixed(2);\n    let gstAmount = invoiceData?.orders\n      ?.reduce((acc, cur) => {\n        return Number(acc + cur?.gstAmount);\n      }, 0)\n      ?.toFixed(2);\n    let total_amount =\n      Number(invoiceData?.taxable_amount) +\n      Number(invoiceData?.adjusted_amount) +\n      Number(invoiceData?.IGST);\n\n    setInvoiceData((prev) => ({\n      ...prev,\n      taxable_amount: taxable_amount,\n      IGST: gstAmount,\n      CGST: gstAmount / 2,\n      SGST: gstAmount / 2,\n      // invoice_number: company.length\n      //   ? invoice.length\n      //     ? `${company[0]?.company_name\n      //         ?.slice(0, 3)\n      //         ?.toUpperCase()}0${prevInvoiceNumber}`\n      //     : `${company[0]?.company_name?.slice(0, 3)?.toUpperCase()}01`\n      //   : `INV01`,\n      total_amount: total_amount?.toFixed(2),\n    }));\n  }, [\n    invoiceData?.orders,\n    invoiceData?.taxable_amount,\n    invoiceData?.adjusted_amount,\n    invoiceData?.company_id,\n    allInvoicesData,\n  ]);\n  useEffect(() => {\n    let invoice = allInvoicesData?.filter(\n      (Idata) =>\n        Idata?.invoice_number == invoiceNumber && Idata?.invoice_id == invoiceID\n    );\n\n    setInvoiceData({ ...invoice[0] });\n  }, [allInvoicesData]);\n\n  const createInvoiceNumber = (invoice) => {\n    let prevInvoiceNumber =\n      Number(invoice[0]?.invoice_number?.split(\"-\")[1]) + 1;\n    return prevInvoiceNumber;\n  };\n  // const handleCompanyChange = (e) => {\n  //   let selectedCompany = allCompanyData?.filter(\n  //     (comData) => comData?.company_id == e.target.value\n  //   );\n  //   let selectedCompanyInvoices = allInvoicesData?.filter(\n  //     (invData) => invData?.company_id == selectedCompany[0]?.company_id\n  //   );\n  //   let flag = false;\n  //   selectedCompanyInvoices?.forEach((invoice) => {\n  //     if (invoice.invoice_number == invoiceNumber) {\n  //       setInvoiceData((prev) => {\n  //         return {\n  //           ...prev,\n  //           invoice_number: invoiceNumber,\n  //         };\n  //       });\n  //       flag = true;\n  //     }\n  //   });\n  //   if (!flag) {\n  //     let prevInvoiceNumber = createInvoiceNumber(selectedCompanyInvoices);\n  //     setInvoiceData((prev) => ({\n  //       ...prev,\n  //       [e.target.name]: e.target.value,\n  //       invoice_number: selectedCompany.length\n  //         ? selectedCompanyInvoices.length\n  //           ? `${selectedCompany[0]?.company_name\n  //               ?.slice(0, 3)\n  //               ?.toUpperCase()}0${prevInvoiceNumber}`\n  //           : `${company[0]?.company_name?.slice(0, 3)?.toUpperCase()}01`\n  //         : `INV01`,\n  //     }));\n  //   }\n  //   setCompany(selectedCompany);\n  //   setInvoices(selectedCompanyInvoices);\n  // };\n  const handleCompanyChange = (e) => {\n    let selectedCompany = allCompanyData?.filter(\n      (comData) => comData?.company_id == e.target.value\n    );\n    let selectedCompanyInvoices = allInvoicesData?.filter(\n      (invData) => invData?.company_id == selectedCompany[0]?.company_id\n    );\n    let flag = false;\n    selectedCompanyInvoices?.forEach((invoice) => {\n      if (invoice.invoice_number == invoiceNumber) {\n        setInvoiceData((prev) => {\n          return {\n            ...prev,\n            invoice_number: invoiceNumber,\n            company_id: invoice?.company_id,\n          };\n        });\n        flag = true;\n      }\n    });\n    if (!flag) {\n      let prevInvoiceNumber = createInvoiceNumber(selectedCompanyInvoices);\n      setInvoiceData((prev) => ({\n        ...prev,\n        [e.target.name]: e.target.value,\n        invoice_number: selectedCompany?.length\n          ? selectedCompany[0]?.company_name?.endsWith(\"LLC\")\n            ? `LLC${new Date()?.getFullYear()}-${prevInvoiceNumber}`\n            : `${selectedCompany[0]?.company_name\n                ?.slice(0, 3)\n                ?.toUpperCase()}${new Date()?.getFullYear()}-${prevInvoiceNumber}`\n          : selectedCompany[0]?.company_name?.endsWith(\"LLC\")\n          ? `LLC${new Date()?.getFullYear()}-01`\n          : `${selectedCompany[0]?.company_name\n              ?.slice(0, 3)\n              ?.toUpperCase()}${new Date()?.getFullYear()}-01`,\n      }));\n    }\n    setCompany(selectedCompany);\n    setInvoices(selectedCompanyInvoices);\n  };\n  let currentCompany = allCompanyData?.filter(\n    (data) => data?.company_id == invoiceData?.company_id\n  );\n  const handleAddSignature = (e) => {\n    e.preventDefault();\n    e.target.disabled = true;\n    e.target.style.cursor = \"not-allowed\";\n    uploadBytes(\n      ref(\n        storage,\n        `signatures/${signatureModalInputData?.signature_name}/${signatureModalInputData?.signature_name}`\n      ),\n      signatureModalInputData?.file\n    ).then(async (snapshot) => {\n      getDownloadURL(snapshot.ref).then(async (downloadURL) => {\n        console.log(\"File available at\", downloadURL);\n        axios\n          .post(\"https://finance.miratsoneservices.com/api/create-signature\", {\n            signature: downloadURL,\n            signature_name: signatureModalInputData?.signature_name,\n          })\n          .then((res) => {\n            console.log(\"signature uploaded\");\n            e.target.disabled = false;\n            e.target.style.cursor = \"pointer\";\n            fetchAllSignatureData();\n            handleClose();\n            setSnackbar({\n              open: true,\n              msg: \"Signature Added Successfully\",\n              severity: \"success\",\n            });\n          });\n      });\n    });\n  };\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 600,\n    height: 330,\n    bgcolor: \"background.paper\",\n    border: \"none\",\n    boxShadow: 64,\n    p: 4,\n  };\n  console.log(invoiceData);\n  return (\n    <>\n      <form onSubmit={updateInvoice}>\n        <div className={styles.domestic_invoice_container}>\n          <div className={styles.invoice_header}>\n            <div className={styles.left_header}>\n              <button type=\"submit\" className={styles.create_invoice}>\n                Update Invoice\n              </button>\n            </div>\n            <div className={styles.right_header}>\n              <span>Sale By</span>\n              <select\n                onChange={handleChangeInput}\n                name=\"sale_by\"\n                id=\"sale_by\"\n                value={invoiceData?.sale_by}\n                required\n              >\n                <option value=\"Mayank Patel\">Mayank Patel</option>\n                <option value=\"Amit Sharma\">Amit Sharma</option>\n                <option value=\"Charmi Patel\">Charmi Patel</option>\n                {/* <option value=\"Ashwin Gopalakrishnan\">\n                  Ashwin Gopalakrishnan\n                </option> */}\n              </select>\n            </div>\n          </div>\n\n          {/* INVOICE CONTENT */}\n          <div className={styles.box}>\n            <div className={styles.invoice_content_container}>\n              <div className={styles.invoice_content}>\n                <div className={styles.left_content}>\n                  <div className={styles.left_address}>\n                    <select\n                      onChange={handleCompanyChange}\n                      name=\"company_id\"\n                      value={invoiceData?.company_id}\n                      id=\"company_id\"\n                      required\n                    >\n                      <option value=\"\" selected disabled>\n                        Select Company\n                      </option>\n                      {allCompanyData?.map((elm, ind) => (\n                        <option value={elm?.company_id} key={ind}>\n                          {elm?.company_name}\n                        </option>\n                      ))}\n                    </select>\n                    <div>\n                      {invoiceData?.company_id ? (\n                        allCompanyData\n                          ?.filter(\n                            (elm, ind) =>\n                              elm?.company_id == invoiceData?.company_id\n                          )\n                          ?.map((add, i) => (\n                            <React.Fragment>\n                              {console.log(add)}\n                              <p>{add?.address?.street1}</p>\n                              <p>{add?.address?.street2}</p>\n                              <p>\n                                {add?.address?.city} - {add?.address?.zip_code}\n                              </p>\n                              <p>\n                                {\" \"}\n                                {add?.address?.state}, {add?.address?.country}\n                              </p>\n                              <p className={styles.gstin}>\n                                GSTIN: {add?.tax_id_no}\n                              </p>\n                              <p>CIN: {add?.CIN_no}</p>\n                            </React.Fragment>\n                          ))\n                      ) : (\n                        <p className={styles.errorMsg}>select a company</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.right_content}>\n                  <div className={styles.invoice_dates}>\n                    <section className={styles.number}>\n                      <input\n                        // onChange={handleChangeInput}\n                        type=\"text\"\n                        name=\"invoiceNumber\"\n                        required\n                        onChange={(e) =>\n                          setInvoiceData((prev) => ({\n                            ...prev,\n                            invoice_number: e.target.value\n                              ?.split(\" \")\n                              ?.join(\"\"),\n                          }))\n                        }\n                        value={invoiceData?.invoice_number}\n                      />\n                      {/* <select name=\"\" id=\"\">\n                        <option value=\"\">cal</option>\n                      </select> */}\n                      <span>Invoice No</span>\n                    </section>\n                    <section className={styles.date}>\n                      <input\n                        type=\"date\"\n                        name=\"invoice_date\"\n                        required\n                        value={invoiceData?.invoice_date}\n                        onChange={handleChangeInput}\n                      />\n                      <span>Invoice Date</span>\n                    </section>\n                    <section className={styles.date}>\n                      <input\n                        required\n                        type=\"date\"\n                        name=\"invoice_dueDate\"\n                        onChange={handleChangeInput}\n                        value={invoiceData?.invoice_dueDate}\n                      />\n                      <span>Due Date</span>\n                    </section>\n                  </div>\n                </div>\n              </div>\n\n              {/* customer info */}\n              <div className={styles.customer_info}>\n                <section className={styles.left_customer_info}>\n                  <div className={styles.select_customer}>\n                    <p>Customer Info</p>\n                    <select\n                      name=\"customer_id\"\n                      required\n                      id=\"customer_id\"\n                      value={invoiceData?.customer_id}\n                      onChange={handleChangeInput}\n                    >\n                      <option value=\"\" selected disabled>\n                        Select Customer\n                      </option>\n                      {allCustomerData\n                        // ?.filter(\n                        //   (ell) => ell?.billing_address?.country === \"India\"\n                        // )\n                        ?.map((elm, ind) => (\n                          <option value={elm?.customer_id}>\n                            {elm?.company_name}\n                          </option>\n                        ))}\n                    </select>\n                    {allCustomerData\n                      ?.filter(\n                        (elm, ind) =>\n                          elm?.customer_id == invoiceData?.customer_id\n                      )\n                      ?.map((add, i) => (\n                        <React.Fragment>\n                          <p>{add?.company_name}</p>\n                          <p>{add?.customer_name}</p>\n                          <p className={styles.gstin}>\n                            {console.log(add)}\n                            POS: {add?.billing_address?.place_of_supply}\n                          </p>\n                          <p className={styles.gstin}>\n                            GSTIN: {add?.tax_id_number}\n                          </p>\n                        </React.Fragment>\n                      ))}\n                  </div>\n                  <div className={styles.billingAddress}>\n                    <p>Billing Address</p>\n                    {allCustomerData\n                      ?.filter(\n                        (elm, ind) =>\n                          elm?.customer_id == invoiceData?.customer_id\n                      )\n                      ?.map((add, i) => (\n                        <React.Fragment>\n                          <p>{add?.billing_address?.street1}</p>\n                          <p>{add?.billing_address?.street2}</p>\n                          <p>\n                            {add?.billing_address?.city} -{\" \"}\n                            {add?.billing_address?.zip_code}\n                          </p>\n                          <p>\n                            {\" \"}\n                            {add?.billing_address?.city},{\" \"}\n                            {add?.billing_address?.country}\n                          </p>\n                        </React.Fragment>\n                      ))}\n                  </div>\n                </section>\n                {}\n\n                {allCustomerData\n                  ?.filter(\n                    (elm, ind) => elm?.customer_id == invoiceData?.customer_id\n                  )\n                  ?.map((add, i) =>\n                    add?.shipping_address?.country ? (\n                      <section className={styles.shippingAddress}>\n                        <p>Shipping Address</p>\n                        <p>{add?.shipping_address?.street1}</p>\n                        <p>{add?.shipping_address?.street2}</p>\n                        <p>\n                          {add?.shipping_address?.city} -{\" \"}\n                          {add?.shipping_address?.zip_code}\n                        </p>\n                        <p>\n                          {\" \"}\n                          {add?.shipping_address?.city},{\" \"}\n                          {add?.shipping_address?.country}\n                        </p>\n                      </section>\n                    ) : (\n                      \"\"\n                    )\n                  )}\n                <section className={styles.payment_status_container}>\n                  <section className={styles.payment_status}>\n                    <span>Payment Status</span>\n                    <select\n                      name=\"payment_status\"\n                      value={invoiceData?.payment_status}\n                      onChange={handleChangeInput}\n                    >\n                      <option value=\"unpaid\">Unpaid</option>\n                      <option value=\"paid\">Paid</option>\n                    </select>\n                  </section>\n                  {invoiceData?.payment_status === \"paid\" ? (\n                    <section>\n                      <section className={styles.payment_status}>\n                        <span>Received Amount</span>\n\n                        <input\n                          required\n                          type=\"number\"\n                          step=\"any\"\n                          name=\"received_amount\"\n                          value={invoiceData?.received_amount}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                      <section className={styles.payment_status}>\n                        <span>TDS</span>\n                        <input\n                          required\n                          step=\"any\"\n                          type=\"number\"\n                          name=\"tds\"\n                          value={invoiceData?.tds}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                      <section className={styles.payment_status}>\n                        <span>Bank Charges</span>\n                        <input\n                          required\n                          step=\"any\"\n                          type=\"number\"\n                          name=\"bank_charges\"\n                          value={invoiceData?.bank_charges}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                    </section>\n                  ) : (\n                    \"\"\n                  )}\n                </section>\n              </div>\n\n              {/* calculations */}\n              <div className={styles.calculations}>\n                <div className={styles.calculation_header}>\n                  <section className={styles.item}>\n                    <p>Item</p>\n                    <button onClick={addItemCalc}>New Item</button>\n                  </section>\n                  <section>\n                    <p>Qty</p>\n                  </section>\n                  <section>\n                    <p>Rate</p>\n                  </section>\n                  <section>\n                    <p>GST(%)</p>\n                  </section>\n                  <section>\n                    <p>Amount</p>\n                  </section>\n                </div>\n                {/* map */}\n                <div className={styles.calculation_body}>\n                  {invoiceData?.orders?.map((item, i) => {\n                    return (\n                      <>\n                        <div className={styles.calculation_content}>\n                          <section>\n                            {/* <select name=\"\" id=\"\">\n                          <option value=\"\">Select Item</option>\n                        </select> */}\n                            {/* <input\n                              type=\"text\"\n                              required\n                              value={item?.item}\n                              placeholder=\"Enter a Item\"\n                              className={styles.select_item}\n                              onChange={(e) => handleChange(e, i)}\n                              name=\"item\"\n                            /> */}\n                            <select\n                              name=\"item\"\n                              onChange={(e) => handleChange(e, i)}\n                              className={styles.select_item}\n                              required\n                              value={item?.item}\n                              id=\"select_item\"\n                            >\n                              <option value=\"\" disabled selected>\n                                Select Item\n                              </option>\n                              <option value=\"PO\">PO</option>\n                              <option value=\"project_number\">\n                                Project Number\n                              </option>\n                            </select>\n                          </section>\n                          <section>\n                            <input\n                              required\n                              value={item?.quantity}\n                              onChange={(e) => handleChange(e, i)}\n                              type=\"number\"\n                              placeholder=\"QTY\"\n                              name=\"quantity\"\n                            />\n                          </section>\n                          <section>\n                            <input\n                              required\n                              value={item?.rate}\n                              onChange={(e) => handleChange(e, i)}\n                              type=\"number\"\n                              name=\"rate\"\n                              placeholder=\"Rate\"\n                            />\n                          </section>\n                          <section>\n                            <input\n                              required\n                              value={item?.gst}\n                              onChange={(e) => handleChange(e, i)}\n                              name=\"gst\"\n                              type=\"number\"\n                              placeholder=\"GST: 0%\"\n                            />\n                          </section>\n                          <section>\n                            <input\n                              required\n                              value={item?.amount}\n                              onChange={(e) => handleChange(e, i)}\n                              name=\"amount\"\n                              type=\"number\"\n                              placeholder=\"Total Amount\"\n                            />\n                          </section>\n                        </div>\n                        <div className={styles.remove_item}>\n                          <section className={styles.desc}>\n                            <textarea\n                              required\n                              name=\"description\"\n                              value={item?.description}\n                              cols=\"31\"\n                              rows=\"2\"\n                              placeholder=\"Description\"\n                              onChange={(e) => handleChange(e, i)}\n                            ></textarea>\n                          </section>\n                          <span className={styles.remove_text}>\n                            <span onClick={() => deleteItemCalc(item, i)}>\n                              Remove Item\n                            </span>\n                          </span>\n                        </div>\n                      </>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* footer */}\n              <div className={styles.footer}>\n                <section className={styles.left_footer}>\n                  <div>\n                    <textarea\n                      className={styles.notes}\n                      name=\"notes\"\n                      onChange={handleChangeInput}\n                      cols=\"30\"\n                      value={invoiceData?.notes}\n                      rows=\"5\"\n                      placeholder=\"Notes\"\n                    ></textarea>\n                  </div>\n                  <textarea\n                    className={styles.terms}\n                    name=\"terms_and_conditions\"\n                    onChange={handleChangeInput}\n                    cols=\"30\"\n                    value={invoiceData?.terms_and_conditions}\n                    rows=\"5\"\n                    placeholder=\"Terms and Conditions\"\n                  ></textarea>\n                </section>\n                <section className={styles.right_footer}>\n                  <div className={styles.adjustments}>\n                    <section className={styles.adjustment_content}>\n                      <p>Taxable Amount</p>\n                      <input\n                        className={styles.disabled}\n                        required\n                        type=\"number\"\n                        value={invoiceData?.taxable_amount}\n                        placeholder=\"0\"\n                      />\n                    </section>\n                    {customer[0]?.billing_address?.place_of_supply?.toLowerCase() ==\n                    company[0]?.address?.state?.toLowerCase() ? (\n                      <>\n                        <section className={styles.adjustment_content}>\n                          <p>SGST</p>\n                          <input\n                            required\n                            type=\"number\"\n                            value={invoiceData?.SGST}\n                            placeholder=\"0\"\n                          />\n                        </section>\n                        <section className={styles.adjustment_content}>\n                          <p>CGST</p>\n                          <input\n                            className={styles.disabled}\n                            required\n                            type=\"number\"\n                            value={invoiceData?.CGST}\n                            placeholder=\"0\"\n                          />\n                        </section>\n                      </>\n                    ) : (\n                      <section className={styles.adjustment_content}>\n                        <p>IGST</p>\n                        <input\n                          className={styles.disabled}\n                          required\n                          type=\"number\"\n                          value={invoiceData?.IGST}\n                          placeholder=\"0\"\n                        />\n                      </section>\n                    )}\n\n                    <section className={styles.adjustment_content}>\n                      <p>Adjustment</p>\n                      <input\n                        required\n                        type=\"number\"\n                        step=\"any\"\n                        onChange={handleChangeInput}\n                        name=\"adjusted_amount\"\n                        value={invoiceData?.adjusted_amount}\n                        placeholder=\"0\"\n                      />\n                    </section>\n                    <section className={styles.adjustment_content}>\n                      <p>Total</p>\n                      <input\n                        className={styles.disabled}\n                        required\n                        type=\"number\"\n                        value={invoiceData?.total_amount}\n                        placeholder=\"0\"\n                      />\n                    </section>\n                  </div>\n                  <div className={styles.for_Signature}>\n                    <p>For {currentCompany[0]?.company_name}</p>\n                    {console.log(invoiceData)}\n                    <section className={styles.signature}>\n                      {selectSign && (\n                        <img\n                          src={\n                            selectSign?.url\n                              ? selectSign?.url\n                              : invoiceData?.signature\n                          }\n                          className={styles.showSignature}\n                        />\n                      )}\n                      <div className={styles.signatureContainer}>\n                        <select\n                          name=\"signature\"\n                          onChange={(e) => {\n                            setInvoiceData((prev) => ({\n                              ...prev,\n                              [e.target.name]: e.target.value,\n                            }));\n                            setSelectSign({ url: e.target.value });\n                          }}\n                          value={invoiceData?.signature}\n                        >\n                          <option value=\"\">Select Signature</option>\n                          {signatureData?.map((data, key) => (\n                            <option value={data?.signature}>\n                              {data?.signature_name}\n                            </option>\n                          ))}\n                        </select>\n                        &nbsp; or &nbsp;\n                        <button\n                          onClick={handleOpen}\n                          // disabled={!invoiceData?.signature ? true : false}\n                        >\n                          Upload New\n                        </button>\n                      </div>\n                      <p>Authorised Signatory</p>\n                    </section>\n                  </div>\n                </section>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\"\n        >\n          <Box sx={style}>\n            <div className={styles.modalInnerContainer}>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"signature_name\">Employee Name</label>\n                {\" : \"}\n                <input\n                  type=\"text\"\n                  name=\"signature_name\"\n                  // value={modalData?.project_manager}\n                  onChange={(e) => {\n                    setSignatureModalInputData((prev) => ({\n                      ...prev,\n                      [e.target.name]: e.target.value,\n                    }));\n                  }}\n                />\n              </div>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"signature\">Upload Signature</label>\n                {\" : \"}\n                <input\n                  type=\"file\"\n                  name=\"signature\"\n                  // value={modalData?.date_of_receipt}\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    setSignatureModalInputData((prev) => ({\n                      ...prev,\n                      url: URL.createObjectURL(e.target.files[0]),\n                      file: e.target.files[0],\n                    }));\n                  }}\n                />\n              </div>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"\">Selected Signature</label>\n                {\" : \"}\n                {signatureModalInputData?.url ? (\n                  <img src={signatureModalInputData?.url} alt=\"sign\" />\n                ) : (\n                  <p style={{ color: \"red\" }}>* Upload Signature *</p>\n                )}\n              </div>\n              <div className={styles.inputContainer}>\n                <button onClick={handleClose}>Cancel</button>\n                <button\n                  onClick={handleAddSignature}\n                  disabled={\n                    signatureModalInputData?.signature_name &&\n                    signatureModalInputData?.file\n                      ? false\n                      : true\n                  }\n                >\n                  Upload\n                </button>\n              </div>\n            </div>\n          </Box>\n        </Modal>\n      </form>\n    </>\n  );\n};\n\nexport default EditDomesticInvoice;\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"../domestic_invoice/DomesticInvoice.module.css\";\nimport { useInvoiceContext } from \"../invoiceContext/InvoiceContext\";\nimport { useCustomerContext } from \"../../customers/customerContex/CustomerContext\";\nimport { auth, db, firestoredb, storage } from \"../../../FirebaseConfig\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { UseGlobalContext } from \"../../globalContext/GlobalContext\";\nimport Modal from \"@mui/material/Modal\";\nimport { Box, Typography } from \"@mui/material\";\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\n\nconst EditInternationalInvoice = () => {\n  const { invoiceNumber } = useParams();\n  const { invoiceID } = useParams();\n  const [itemCalc, setItemCalc] = useState([\n    {\n      item: \"\",\n      quantity: \"\",\n      rate: \"\",\n      amount: \"0\",\n      description: \"\",\n    },\n  ]);\n  const {\n    allCompanyData,\n    allInvoicesData,\n    fetchAllCompanyData,\n    fetchAllInvoicesData,\n  } = useInvoiceContext();\n  const { setSnackbar } = UseGlobalContext();\n  const { allCustomerData } = useCustomerContext();\n  const { signatureData, fetchAllSignatureData } = useInvoiceContext();\n  const [company, setCompany] = useState({});\n  const [invoices, setInvoices] = useState([]);\n  const navigate = useNavigate();\n  const [selectSign, setSelectSign] = useState({});\n  const [invoiceData, setInvoiceData] = useState();\n  const [signatureModalInputData, setSignatureModalInputData] = useState({});\n  const [open, setOpen] = useState(false);\n  const handleOpen = (e) => {\n    e.preventDefault();\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setSignatureModalInputData({});\n  };\n  const handleChange = (e, ind) => {\n    const newArr = [...invoiceData?.orders];\n    newArr[ind][e.target.name] = e.target.value;\n    newArr[ind][\"amount\"] = Number(\n      newArr[ind]?.quantity && newArr[ind]?.rate\n        ? Number(Number(newArr[ind]?.quantity) * Number(newArr[ind]?.rate))\n        : 0\n    );\n    setInvoiceData((prev) => ({ ...prev, orders: newArr }));\n  };\n\n  const addItemCalc = (e) => {\n    e.preventDefault();\n\n    setInvoiceData((prev) => ({\n      ...prev,\n      orders: [\n        ...prev?.orders,\n        {\n          item: \"\",\n          quantity: \"\",\n          rate: \"\",\n          amount: 0,\n          description: \"\",\n        },\n      ],\n    }));\n  };\n\n  const deleteItemCalc = (item, i) => {\n    const deleteData = invoiceData?.orders;\n    setInvoiceData((prev) => ({\n      ...prev,\n      orders: deleteData.filter((_, index) => index !== i),\n    }));\n    axios.delete(\n      `https://finance.miratsoneservices.com/api/delete-order/${item?.order_id}`\n    );\n    console.log(item);\n  };\n\n  const handleChangeInput = (e) => {\n    setInvoiceData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const updateInvoice = (e) => {\n    e.preventDefault();\n\n    let invoiceMatch = allInvoicesData?.filter(\n      (data) => data?.company_id == invoiceData?.company_id\n    );\n    let invoiceNumberExists = invoiceMatch?.filter(\n      (data) => data?.invoice_number == invoiceData?.invoice_number\n    );\n\n    if (\n      !invoiceNumberExists?.length ||\n      invoiceNumber == invoiceNumberExists[0]?.invoice_number\n    ) {\n      axios\n        .put(\n          `https://finance.miratsoneservices.com/api/update-invoice/${Number(\n            invoiceID\n          )}`,\n          invoiceData\n        )\n        .then((res) => {\n          for (let i = 0; i < invoiceData?.orders?.length; i++) {\n            let myObj = invoiceData?.orders[i];\n            if (myObj.hasOwnProperty(\"order_id\")) {\n              console.log(\"updating order \" + myObj.order_id);\n              // put request to update the order\n              axios\n                .put(\n                  `https://finance.miratsoneservices.com/api/update-order/${myObj.order_id}`,\n                  myObj\n                )\n                .then(\n                  (res) => console.log(res.data),\n                  fetchAllCompanyData(),\n                  fetchAllInvoicesData()\n                )\n                .catch((err) => console.log(err));\n            } else {\n              console.log(\n                \"creating new order in invoice \" + invoiceData.invoice_id\n              );\n              axios\n                ?.post(\n                  \"https://finance.miratsoneservices.com/api/create-order\",\n                  {\n                    invoice_id: invoiceData.invoice_id,\n                    ...myObj,\n                  }\n                )\n                .then(\n                  (res) => console.log(res.data),\n                  fetchAllCompanyData(),\n                  fetchAllInvoicesData(),\n                  setSnackbar({\n                    open: true,\n                    severity: \"success\",\n                    msg: \"Invoice Updated Successfully!\",\n                  })\n                )\n                .catch((err) => console.log(err));\n            }\n          }\n        });\n      setSnackbar({\n        open: true,\n        severity: \"success\",\n        msg: \"Invoice Updated Successfully\",\n      });\n      navigate(\"/invoices\");\n    } else {\n      alert(\"Invoice number already exists\");\n    }\n  };\n\n  const createInvoiceNumber = (invoice) => {\n    let prevInvoiceNumber =\n      Number(invoice[0]?.invoice_number?.split(\"-\")[1]) + 1;\n    return prevInvoiceNumber;\n  };\n\n  const handleCompanyChange = (e) => {\n    let selectedCompany = allCompanyData?.filter(\n      (comData) => comData?.company_id == e.target.value\n    );\n    let selectedCompanyInvoices = allInvoicesData?.filter(\n      (invData) => invData?.company_id == selectedCompany[0]?.company_id\n    );\n    let flag = false;\n    selectedCompanyInvoices?.forEach((invoice) => {\n      if (invoice.invoice_number == invoiceNumber) {\n        setInvoiceData((prev) => {\n          return {\n            ...prev,\n            invoice_number: invoiceNumber,\n            company_id: invoice?.company_id,\n          };\n        });\n        flag = true;\n      }\n    });\n    if (!flag) {\n      let prevInvoiceNumber = createInvoiceNumber(selectedCompanyInvoices);\n      setInvoiceData((prev) => ({\n        ...prev,\n        [e.target.name]: e.target.value,\n        invoice_number: selectedCompany?.length\n          ? selectedCompany[0]?.company_name?.endsWith(\"LLC\")\n            ? `LLC${new Date()?.getFullYear()}-${prevInvoiceNumber}`\n            : `${selectedCompany[0]?.company_name\n                ?.slice(0, 3)\n                ?.toUpperCase()}${new Date()?.getFullYear()}-${prevInvoiceNumber}`\n          : selectedCompany[0]?.company_name?.endsWith(\"LLC\")\n          ? `LLC${new Date()?.getFullYear()}-01`\n          : `${selectedCompany[0]?.company_name\n              ?.slice(0, 3)\n              ?.toUpperCase()}${new Date()?.getFullYear()}-01`,\n      }));\n    }\n    setCompany(selectedCompany);\n    setInvoices(selectedCompanyInvoices);\n  };\n  useEffect(() => {\n    let total_amount = invoiceData?.orders?.reduce((acc, cur) => {\n      acc = acc + Number(cur?.amount);\n      return acc;\n    }, 0);\n    setInvoiceData((prev) => ({\n      ...prev,\n      total_amount: invoiceData?.adjusted_amount\n        ? Number(Number(invoiceData?.adjusted_amount) + total_amount)\n        : total_amount,\n    }));\n  }, [invoiceData?.orders, invoiceData?.adjusted_amount]);\n  useEffect(() => {\n    let invoice = allInvoicesData?.filter(\n      (Idata) =>\n        Idata?.invoice_number == invoiceNumber && Idata?.invoice_id == invoiceID\n    );\n    console.log(invoice);\n    setInvoiceData({ ...invoice[0] });\n  }, [allInvoicesData]);\n  let currentCompany = allCompanyData?.filter(\n    (data) => data?.company_id == invoiceData?.company_id\n  );\n  const handleAddSignature = (e) => {\n    e.preventDefault();\n    e.target.disabled = true;\n    e.target.style.cursor = \"not-allowed\";\n    uploadBytes(\n      ref(\n        storage,\n        `signatures/${signatureModalInputData?.signature_name}/${signatureModalInputData?.signature_name}`\n      ),\n      signatureModalInputData?.file\n    ).then(async (snapshot) => {\n      getDownloadURL(snapshot.ref).then(async (downloadURL) => {\n        console.log(\"File available at\", downloadURL);\n        axios\n          .post(\"https://finance.miratsoneservices.com/api/create-signature\", {\n            signature: downloadURL,\n            signature_name: signatureModalInputData?.signature_name,\n          })\n          .then((res) => {\n            console.log(\"signature uploaded\");\n            e.target.disabled = false;\n            e.target.style.cursor = \"pointer\";\n            fetchAllSignatureData();\n            handleClose();\n            setSnackbar({\n              open: true,\n              msg: \"Signature Added Successfully\",\n              severity: \"success\",\n            });\n          });\n      });\n    });\n  };\n\n  const style = {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: 600,\n    height: 330,\n    bgcolor: \"background.paper\",\n    border: \"none\",\n    boxShadow: 64,\n    p: 4,\n  };\n  return (\n    <>\n      <form onSubmit={updateInvoice}>\n        <div className={styles.domestic_invoice_container}>\n          <div className={styles.invoice_header}>\n            <div className={styles.left_header}>\n              {/* <select\n                onChange={handleChangeInput}\n                className={styles.invoice_select}\n                name=\"invoice_select\"\n                id=\"invoice_select\"\n              >\n                <option value=\"international invoice\">\n                  International Invoice\n                </option>\n                <option value=\"https://finance.miratsoneservices.com/api/get-customer\">\n                  Domestic Invoice\n                </option>\n              </select> */}\n\n              <button\n                type=\"submit\"\n                // onClick={handleSubmit}\n                className={styles.create_invoice}\n              >\n                Update Invoice\n              </button>\n            </div>\n            <div className={styles.right_header}>\n              <span>Sale By</span>\n              <select\n                onChange={handleChangeInput}\n                name=\"sale_by\"\n                id=\"creater_name\"\n                value={invoiceData?.sale_by}\n                required\n              >\n                <option value=\"\" disabled selected>\n                  Select Sales Person\n                </option>\n                <option value=\"Mayank Patel\">Mayank Patel</option>\n                <option value=\"Amit Sharma\">Amit Sharma</option>\n                <option value=\"Charmi Patel\">Charmi Patel</option>\n                {/* <option value=\"Ashwin Gopalakrishnan\">\n                  Ashwin Gopalakrishnan\n                </option> */}\n              </select>\n            </div>\n          </div>\n\n          {/* INVOICE CONTENT */}\n          <div className={styles.box}>\n            <div className={styles.invoice_content_container}>\n              <div className={styles.invoice_content}>\n                <div className={styles.left_content}>\n                  <div className={styles.left_address}>\n                    <select\n                      // onChange={company_idChange}\n                      onChange={(e) => {\n                        handleCompanyChange(e);\n                      }}\n                      name=\"company_id\"\n                      id=\"company_id\"\n                      value={invoiceData?.company_id}\n                      required\n                    >\n                      <option value=\"\" disabled selected>\n                        Select Company\n                      </option>\n                      {allCompanyData\n                        // ?.filter(\n                        //   (ell) =>\n                        //     ell?.address?.country !== \"India\" &&\n                        //     ell?.address?.country !== \"india\"\n                        // )\n                        ?.map((elm, ind) => (\n                          <option value={elm?.company_id} key={ind}>\n                            {elm?.company_name}\n                          </option>\n                        ))}\n                    </select>\n                    <div>\n                      {invoiceData?.company_id ? (\n                        allCompanyData\n                          ?.filter(\n                            (elm, ind) =>\n                              elm?.company_id == invoiceData?.company_id\n                          )\n                          ?.map((add, i) => (\n                            <React.Fragment>\n                              <p>{add?.address?.street1}</p>\n                              <p>{add?.address?.street2}</p>\n\n                              <p>\n                                {add?.address?.city} - {add?.address?.zip_code}\n                              </p>\n                              <p>\n                                {\" \"}\n                                {add?.address?.state}, {add?.address?.country}\n                              </p>\n                              <p className={styles.gstin}>\n                                GSTIN: {add?.tax_id_no}\n                              </p>\n                              <p>CIN: {add?.CIN_no}</p>\n                            </React.Fragment>\n                          ))\n                      ) : (\n                        <p className={styles.errorMsg}>select a company</p>\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <div className={styles.right_content}>\n                  <div className={styles.invoice_dates}>\n                    <section className={styles.number}>\n                      <input\n                        // onChange={handleChangeInput}\n                        onChange={(e) =>\n                          setInvoiceData((prev) => ({\n                            ...prev,\n                            invoice_number: e.target.value\n                              ?.split(\" \")\n                              ?.join(\"\"),\n                          }))\n                        }\n                        type=\"text\"\n                        name=\"invoiceNumber\"\n                        required\n                        value={invoiceData?.invoice_number}\n                      />\n                      {/* <select name=\"\" id=\"\">\n                        <option value=\"\">cal</option>\n                      </select> */}\n                      <span>Invoice No</span>\n                    </section>\n                    <section className={styles.date}>\n                      <input\n                        type=\"date\"\n                        required\n                        name=\"invoice_date\"\n                        value={invoiceData?.invoice_date}\n                        onChange={handleChangeInput}\n                      />\n                      <span>Invoice Date</span>\n                    </section>\n                    <section className={styles.date}>\n                      <input\n                        type=\"date\"\n                        name=\"invoice_dueDate\"\n                        value={invoiceData?.invoice_dueDate}\n                        required\n                        onChange={handleChangeInput}\n                      />\n                      <span>Due Date</span>\n                    </section>\n                    <section\n                      className={styles.date}\n                      onChange={handleChangeInput}\n                    >\n                      <select\n                        name=\"currency_type\"\n                        value={\n                          invoiceData?.currency_type\n                            ? invoiceData?.currency_type\n                            : \"\"\n                        }\n                        id=\"\"\n                        required\n                      >\n                        <option value=\"INR\">INR</option>\n                        <option value=\"USD\">USD</option>\n                        <option value=\"EUR\">EURO</option>\n                        <option value=\"POUND\">POUND</option>\n                      </select>\n                      <span>{invoiceData?.currency_type}</span>\n                    </section>\n                    {invoiceData?.currency_type === \"INR\" ? (\n                      \"\"\n                    ) : (\n                      <section\n                        className={styles.date}\n                        onChange={handleChangeInput}\n                      >\n                        <input\n                          type=\"text\"\n                          required\n                          name=\"current_USD_price\"\n                          value={invoiceData?.current_USD_price}\n                          onChange={handleChangeInput}\n                        />\n                        <span style={{ fontSize: \"14px\" }}>\n                          Enter Current {invoiceData?.currency_type}\n                        </span>\n                      </section>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* customer info */}\n              <div className={styles.customer_info}>\n                <section className={styles.left_customer_info}>\n                  <div className={styles.select_customer}>\n                    <p>Customer Info</p>\n                    <select\n                      name=\"customer_id\"\n                      id=\"customer_id\"\n                      // required\n                      value={invoiceData?.customer_id}\n                      onChange={handleChangeInput}\n                    >\n                      {console.log(invoiceData)}\n                      <option value=\"\" selected disabled>\n                        Select Customer\n                      </option>\n                      {allCustomerData\n                        // ?.filter(\n                        //   (ell) =>\n                        //     ell?.billing_address?.country !== \"India\" &&\n                        //     ell?.billing_address?.country !== \"india\"\n                        // )\n                        ?.map((elm, ind) => (\n                          <option value={elm?.customer_id}>\n                            {elm?.company_name}\n                          </option>\n                        ))}\n                    </select>\n                    {allCustomerData\n                      ?.filter(\n                        (elm, ind) =>\n                          elm?.customer_id == invoiceData?.customer_id\n                      )\n                      ?.map((add, i) => (\n                        <React.Fragment>\n                          <p>{add?.company_name}</p>\n                          <p>{add?.customer_name}</p>\n                          <p className={styles.gstin}>\n                            POS: {add?.billing_address?.place_of_supply}\n                          </p>\n                          <p className={styles.gstin}>\n                            GSTIN: {add?.tax_id_number}\n                          </p>\n                        </React.Fragment>\n                      ))}\n                  </div>\n                  <div className={styles.billingAddress}>\n                    <p>Billing Address</p>\n                    {allCustomerData\n                      ?.filter(\n                        (elm, ind) =>\n                          elm?.customer_id == invoiceData?.customer_id\n                      )\n                      ?.map((add, i) => (\n                        <React.Fragment>\n                          <p>{add?.billing_address?.street1}</p>\n                          <p>{add?.billing_address?.street2}</p>\n                          <p>\n                            {add?.billing_address?.city} -{\" \"}\n                            {add?.billing_address?.zip_code}\n                          </p>\n                          <p>\n                            {\" \"}\n                            {add?.billing_address?.city},{\" \"}\n                            {add?.billing_address?.country}\n                          </p>\n                        </React.Fragment>\n                      ))}\n                  </div>\n                </section>\n\n                {allCustomerData\n                  ?.filter(\n                    (elm, ind) => elm?.customer_id == invoiceData?.customer_id\n                  )\n                  ?.map((add, i) =>\n                    add?.shipping_address?.country ? (\n                      <section className={styles.shippingAddress}>\n                        <p>Shipping Address</p>\n                        <p>{add?.shipping_address?.street1}</p>\n                        <p>{add?.shipping_address?.street2}</p>\n                        <p>\n                          {add?.shipping_address?.city} -{\" \"}\n                          {add?.shipping_address?.zip_code}\n                        </p>\n                        <p>\n                          {\" \"}\n                          {add?.shipping_address?.city},{\" \"}\n                          {add?.shipping_address?.country}\n                        </p>\n                      </section>\n                    ) : (\n                      \"\"\n                    )\n                  )}\n                <section className={styles.payment_status_container}>\n                  <section className={styles.payment_status}>\n                    <span>Payment Status</span>\n                    <select\n                      name=\"payment_status\"\n                      value={invoiceData?.payment_status}\n                      onChange={handleChangeInput}\n                    >\n                      <option value=\"unpaid\">Unpaid</option>\n                      <option value=\"paid\">Paid</option>\n                    </select>\n                  </section>\n                  {invoiceData?.payment_status === \"paid\" ? (\n                    <section>\n                      <section className={styles.payment_status}>\n                        <span>Received Amount</span>\n\n                        <input\n                          required\n                          type=\"number\"\n                          step=\"any\"\n                          name=\"received_amount\"\n                          value={invoiceData?.received_amount}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                      <section className={styles.payment_status}>\n                        <span>TDS</span>\n                        <input\n                          required\n                          step=\"any\"\n                          type=\"number\"\n                          name=\"tds\"\n                          value={invoiceData?.tds}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                      <section className={styles.payment_status}>\n                        <span>Bank Charges</span>\n                        <input\n                          required\n                          step=\"any\"\n                          type=\"number\"\n                          name=\"bank_charges\"\n                          value={invoiceData?.bank_charges}\n                          onChange={handleChangeInput}\n                        />\n                      </section>\n                    </section>\n                  ) : (\n                    \"\"\n                  )}\n                </section>\n              </div>\n\n              {/* calculations */}\n              <div className={styles.calculations}>\n                <div className={styles.calculation_header2}>\n                  <section className={styles.item}>\n                    <p>Item</p>\n                    <button onClick={addItemCalc}>New Item</button>\n                  </section>\n                  <section>\n                    <p>Qty</p>\n                  </section>\n                  <section>\n                    <p>Rate</p>\n                  </section>\n                  <section>\n                    <p>Amount</p>\n                  </section>\n                </div>\n                {/* map */}\n                <div className={styles.calculation_body}>\n                  {invoiceData?.orders?.map((item, i) => {\n                    return (\n                      <>\n                        <div className={styles.calculation_content2}>\n                          <section>\n                            <select\n                              name=\"item\"\n                              onChange={(e) => handleChange(e, i)}\n                              className={styles.select_item}\n                              required\n                              value={item?.item}\n                              id=\"select_item\"\n                            >\n                              <option value=\"\" disabled selected>\n                                Select Item\n                              </option>\n                              <option value=\"PO\">PO</option>\n                              <option value=\"project_number\">\n                                Project Number\n                              </option>\n                            </select>\n                          </section>\n                          <section>\n                            <input\n                              value={item?.quantity}\n                              required\n                              onChange={(e) => handleChange(e, i)}\n                              type=\"number\"\n                              placeholder=\"QTY\"\n                              name=\"quantity\"\n                            />\n                          </section>\n                          <section>\n                            <input\n                              value={item?.rate}\n                              required\n                              onChange={(e) => handleChange(e, i)}\n                              type=\"number\"\n                              name=\"rate\"\n                              placeholder=\"Rate\"\n                            />\n                          </section>\n\n                          <section>\n                            <input\n                              value={item?.amount}\n                              required\n                              onChange={(e) => handleChange(e, i)}\n                              name=\"amount\"\n                              type=\"number\"\n                              placeholder=\"Total Amount\"\n                            />\n                          </section>\n                        </div>\n                        <div className={styles.remove_item}>\n                          <section className={styles.desc}>\n                            <textarea\n                              name=\"description\"\n                              value={item?.description}\n                              required\n                              cols=\"31\"\n                              rows=\"2\"\n                              placeholder=\"Description\"\n                              onChange={(e) => handleChange(e, i)}\n                            ></textarea>\n                          </section>\n                          <span className={styles.remove_text}>\n                            {item.length !== 1 && (\n                              <span onClick={() => deleteItemCalc(item, i)}>\n                                Remove Item\n                              </span>\n                              // <RiDeleteBinLine\n                              //   size={15}\n                              //   color=\"darkred\"\n                              //   style={{ cursor: \"pointer\" }}\n                              //   onClick={() => deleteItemCalc(i)}\n                              // />\n                            )}\n                          </span>\n                        </div>\n                      </>\n                    );\n                  })}\n                </div>\n              </div>\n\n              {/* footer */}\n              <div className={styles.footer}>\n                <section className={styles.left_footer}>\n                  <div>\n                    <textarea\n                      className={styles.notes}\n                      name=\"notes\"\n                      onChange={handleChangeInput}\n                      cols=\"30\"\n                      rows=\"5\"\n                      value={invoiceData?.notes}\n                      placeholder=\"Notes\"\n                    ></textarea>\n                  </div>\n                  <textarea\n                    className={styles.terms}\n                    name=\"terms_and_conditions\"\n                    onChange={handleChangeInput}\n                    cols=\"30\"\n                    rows=\"5\"\n                    value={invoiceData?.terms_and_conditions}\n                    placeholder=\"Terms and Conditions\"\n                  ></textarea>\n                </section>\n                <section className={styles.right_footer}>\n                  <div className={styles.adjustments}>\n                    <section className={styles.adjustment_content}>\n                      <p>Adjustment</p>\n                      <input\n                        type=\"number\"\n                        step=\"any\"\n                        name=\"adjusted_amount\"\n                        onChange={(e) =>\n                          setInvoiceData((prev) => ({\n                            ...prev,\n                            [e.target.name]: e.target.value,\n                          }))\n                        }\n                        value={invoiceData?.adjusted_amount}\n                        placeholder=\"0\"\n                      />\n                    </section>\n                    <section className={styles.adjustment_content}>\n                      <p>Total</p>\n                      <input\n                        className={styles.disabled}\n                        type=\"number\"\n                        value={invoiceData?.total_amount}\n                        placeholder=\"0\"\n                      />\n                    </section>\n                  </div>\n                  <div className={styles.for_Signature}>\n                    <p>For {currentCompany[0]?.company_name}</p>\n\n                    <section className={styles.signature}>\n                      {selectSign && (\n                        <img\n                          src={\n                            selectSign?.url\n                              ? selectSign?.url\n                              : invoiceData?.signature\n                          }\n                          className={styles.showSignature}\n                        />\n                      )}\n                      <div className={styles.signatureContainer}>\n                        <select\n                          name=\"signature\"\n                          onChange={(e) => {\n                            setInvoiceData((prev) => ({\n                              ...prev,\n                              [e.target.name]: e.target.value,\n                            }));\n                            setSelectSign({ url: e.target.value });\n                          }}\n                          value={invoiceData?.signature}\n                        >\n                          <option value=\"\">Select Signature</option>\n                          {signatureData?.map((data, key) => (\n                            <option value={data?.signature}>\n                              {data?.signature_name}\n                            </option>\n                          ))}\n                        </select>\n                        &nbsp; or &nbsp;\n                        <button\n                          onClick={handleOpen}\n                          // disabled={!invoiceData?.signature ? true : false}\n                        >\n                          Upload New\n                        </button>\n                      </div>\n                      <p>Authorised Signatory</p>\n                    </section>\n                  </div>\n                </section>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Modal\n          open={open}\n          onClose={handleClose}\n          aria-labelledby=\"modal-modal-title\"\n          aria-describedby=\"modal-modal-description\"\n        >\n          <Box sx={style}>\n            <div className={styles.modalInnerContainer}>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"signature_name\">Employee Name</label>\n                {\" : \"}\n                <input\n                  type=\"text\"\n                  name=\"signature_name\"\n                  // value={modalData?.project_manager}\n                  onChange={(e) => {\n                    setSignatureModalInputData((prev) => ({\n                      ...prev,\n                      [e.target.name]: e.target.value,\n                    }));\n                  }}\n                />\n              </div>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"signature\">Upload Signature</label>\n                {\" : \"}\n                <input\n                  type=\"file\"\n                  name=\"signature\"\n                  // value={modalData?.date_of_receipt}\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    setSignatureModalInputData((prev) => ({\n                      ...prev,\n                      url: URL.createObjectURL(e.target.files[0]),\n                      file: e.target.files[0],\n                    }));\n                  }}\n                />\n              </div>\n              <div className={styles.inputContainer}>\n                <label htmlFor=\"\">Selected Signature</label>\n                {\" : \"}\n                {signatureModalInputData?.url ? (\n                  <img src={signatureModalInputData?.url} alt=\"sign\" />\n                ) : (\n                  <p style={{ color: \"red\" }}>* Upload Signature *</p>\n                )}\n              </div>\n              <div className={styles.inputContainer}>\n                <button onClick={handleClose}>Cancel</button>\n                <button\n                  onClick={handleAddSignature}\n                  disabled={\n                    signatureModalInputData?.signature_name &&\n                    signatureModalInputData?.file\n                      ? false\n                      : true\n                  }\n                >\n                  Upload\n                </button>\n              </div>\n            </div>\n          </Box>\n        </Modal>\n      </form>\n    </>\n  );\n};\n\nexport default EditInternationalInvoice;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Header from \"../../../components/header/Header\";\nimport { useCustomerContext } from \"../../customers/customerContex/CustomerContext\";\nimport { useInvoiceContext } from \"../invoiceContext/InvoiceContext\";\nimport EditDomesticInvoice from \"./EditDomesticInvoice\";\nimport EditInternationalInvoice from \"./EditInternationalInvoice\";\n\nconst EditInvoice = () => {\n  const { invoiceNumber } = useParams();\n  const { invoiceID } = useParams();\n  const { allCustomerData } = useCustomerContext();\n  const { allCompanyData, allInvoicesData } = useInvoiceContext();\n  let invoice = allInvoicesData?.filter(\n    (iData) =>\n      iData?.invoice_number === invoiceNumber && iData?.invoice_id == invoiceID\n  );\n  let company = allCompanyData?.filter(\n    (cData) => cData?.company_id == invoice[0]?.company_id\n  );\n  console.log(invoice);\n  return (\n    <>\n      <Header />\n      {invoice[0]?.currency_type ? (\n        <EditInternationalInvoice />\n      ) : (\n        <EditDomesticInvoice />\n      )}\n    </>\n  );\n};\n\nexport default EditInvoice;\n","import axios from \"axios\";\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\n\nconst InvoiceContextProvider = createContext();\nexport const useInvoiceContext = () => {\n  return useContext(InvoiceContextProvider);\n};\nconst InvoiceContext = ({ children }) => {\n  const [allCompanyData, setAllCompanyData] = useState([]);\n  const [signatureData, setSignatureData] = useState([]);\n  const [allInvoicesData, setAllInvoicesData] = useState([]);\n  const fetchAllInvoicesData = useCallback(() => {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-company\")\n      .then((res) => setAllCompanyData(res?.data?.reverse()))\n      .catch((err) => console.log(err));\n  }, [allCompanyData]);\n  const fetchAllCompanyData = useCallback(() => {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-invoice\")\n      .then((res) => setAllInvoicesData(res?.data?.reverse()))\n      .catch((err) => console.log(err));\n  }, [allInvoicesData]);\n  function fetchAllSignatureData(e) {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-signature\")\n      .then((res) => setSignatureData(res?.data))\n      .catch((err) => console.log(err));\n  }\n  useEffect(() => {\n    fetchAllInvoicesData();\n    fetchAllCompanyData();\n    fetchAllSignatureData();\n  }, []);\n\n  const value = {\n    allCompanyData,\n    allInvoicesData,\n    setAllCompanyData,\n    fetchAllCompanyData,\n    fetchAllInvoicesData,\n    fetchAllSignatureData,\n    signatureData,\n  };\n  return (\n    <InvoiceContextProvider.Provider value={value}>\n      {children}\n    </InvoiceContextProvider.Provider>\n  );\n};\n\nexport default InvoiceContext;\n","// extracted by mini-css-extract-plugin\nexport default {\"domestic_invoice_container\":\"DomesticInvoice_domestic_invoice_container__pzzLR\",\"invoice_header\":\"DomesticInvoice_invoice_header__XQVI-\",\"left_header\":\"DomesticInvoice_left_header__IKVuz\",\"invoice_select\":\"DomesticInvoice_invoice_select__iv80m\",\"notification_select\":\"DomesticInvoice_notification_select__CtPUG\",\"pos\":\"DomesticInvoice_pos__Cfr7Q\",\"right_header\":\"DomesticInvoice_right_header__xuCYz\",\"box\":\"DomesticInvoice_box__JouPp\",\"invoice_content_container\":\"DomesticInvoice_invoice_content_container__dbBzt\",\"invoice_content\":\"DomesticInvoice_invoice_content__qmhki\",\"left_content\":\"DomesticInvoice_left_content__cVcnF\",\"left_address\":\"DomesticInvoice_left_address__QJ+JW\",\"gstin\":\"DomesticInvoice_gstin__Ef67N\",\"right_content\":\"DomesticInvoice_right_content__gckxy\",\"invoice_dates\":\"DomesticInvoice_invoice_dates__cvSqE\",\"number\":\"DomesticInvoice_number__wkk-E\",\"date\":\"DomesticInvoice_date__0LPgS\",\"currency\":\"DomesticInvoice_currency__y4aQT\",\"customer_info\":\"DomesticInvoice_customer_info__0cGnt\",\"left_customer_info\":\"DomesticInvoice_left_customer_info__NKOyl\",\"menuItem\":\"DomesticInvoice_menuItem__cUw7r\",\"select_customer\":\"DomesticInvoice_select_customer__RPeit\",\"shippingAddress\":\"DomesticInvoice_shippingAddress__5bfYV\",\"billingAddress\":\"DomesticInvoice_billingAddress__NKkAB\",\"calculations\":\"DomesticInvoice_calculations__+DQ6O\",\"calculation_header\":\"DomesticInvoice_calculation_header__QWKUW\",\"calculation_header2\":\"DomesticInvoice_calculation_header2__p5nlU\",\"item\":\"DomesticInvoice_item__HGbP-\",\"calculation_body\":\"DomesticInvoice_calculation_body__Sh3T7\",\"calculation_content\":\"DomesticInvoice_calculation_content__WSxmi\",\"calculation_content2\":\"DomesticInvoice_calculation_content2__COuNw\",\"select_item\":\"DomesticInvoice_select_item__9Bpzi\",\"remove_item\":\"DomesticInvoice_remove_item__yfQdz\",\"remove_text\":\"DomesticInvoice_remove_text__C1SqZ\",\"footer\":\"DomesticInvoice_footer__23E6l\",\"left_footer\":\"DomesticInvoice_left_footer__LnoIa\",\"right_footer\":\"DomesticInvoice_right_footer__mMACw\",\"notes\":\"DomesticInvoice_notes__syI+8\",\"adjustments\":\"DomesticInvoice_adjustments__2GL6Z\",\"adjustment_content\":\"DomesticInvoice_adjustment_content__GWGcJ\",\"for_Signature\":\"DomesticInvoice_for_Signature__JHWtX\",\"signature\":\"DomesticInvoice_signature__KSXgH\",\"terms\":\"DomesticInvoice_terms__v0gh+\",\"disabled\":\"DomesticInvoice_disabled__l1pmL\",\"amount\":\"DomesticInvoice_amount__2fyP-\",\"create_invoice\":\"DomesticInvoice_create_invoice__Grokd\",\"errorMsg\":\"DomesticInvoice_errorMsg__IiMzN\",\"payment_status_container\":\"DomesticInvoice_payment_status_container__1z13V\",\"payment_status\":\"DomesticInvoice_payment_status__h5zgj\",\"signatureContainer\":\"DomesticInvoice_signatureContainer__hBM3g\",\"showSignature\":\"DomesticInvoice_showSignature__NIJhv\",\"modalInnerContainer\":\"DomesticInvoice_modalInnerContainer__ocDQZ\",\"inputContainer\":\"DomesticInvoice_inputContainer__1ag4Q\"};"],"names":["useState","anchorEl","setAnchorEl","useAuthState","auth","user","open","Boolean","handleClose","className","styles","src","logo","alt","to","isActive","Box","Tooltip","title","IconButton","onClick","event","currentTarget","size","sx","ml","undefined","bordered","zoomed","Menu","id","onClose","PaperProps","elevation","overflow","filter","mt","width","height","mr","content","display","position","top","right","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","email","signOut","then","data","ListItemIcon","Logout","fontSize","CustomerContextProvider","createContext","useCustomerContext","useContext","children","navigate","useNavigate","setSnackbar","UseGlobalContext","billing_address","place_of_supply","shipping_address","customerInputData","setCustomerInputData","disableBTN","setDisableBTN","allCustomerData","setAllCustomerData","getAllCustomerData","useCallback","axios","res","catch","err","console","log","useEffect","value","handleChange","e","prev","target","name","customerBillingAddressChange","customerShippingAddressChange","submitAddCustomer","customer_id","tax_information","bank_details","severity","msg","Provider","GlobalContextProvider","bankTransaction","setBankTransaction","snackbar","getingImgFromFolder","setGetingImgFromFolder","disableBtn","setDisableBtn","getBankTransaction","listAll","ref","storage","prefixes","forEach","folderRef","items","itemref","Alert","React","props","variant","reason","autoHideDuration","invoiceNumber","useParams","invoiceID","item","quantity","rate","gst","amount","description","taxable_amount","gstAmount","useInvoiceContext","allCompanyData","allInvoicesData","fetchAllCompanyData","fetchAllInvoicesData","invoiceData","setInvoiceData","company","setCompany","setInvoices","selectSign","setSelectSign","signatureData","fetchAllSignatureData","signatureModalInputData","setSignatureModalInputData","setOpen","ind","newArr","orders","Number","handleChangeInput","customer","elm","invoice","invData","company_id","reverse","length","invoice_number","slice","reduce","acc","cur","toFixed","total_amount","adjusted_amount","IGST","CGST","SGST","Idata","invoice_id","currentCompany","onSubmit","preventDefault","invoiceMatch","invoiceNumberExists","alert","i","myObj","hasOwnProperty","order_id","type","onChange","sale_by","required","selectedCompany","comData","selectedCompanyInvoices","flag","prevInvoiceNumber","split","createInvoiceNumber","company_name","endsWith","Date","getFullYear","toUpperCase","selected","disabled","map","add","address","street1","street2","city","zip_code","state","country","tax_id_no","CIN_no","join","invoice_date","invoice_dueDate","customer_name","tax_id_number","payment_status","step","received_amount","tds","bank_charges","placeholder","cols","rows","deleteData","_","index","deleteItemCalc","notes","terms_and_conditions","toLowerCase","url","signature","key","signature_name","Modal","left","border","boxShadow","p","htmlFor","accept","URL","createObjectURL","files","file","style","color","cursor","uploadBytes","snapshot","getDownloadURL","downloadURL","handleCompanyChange","currency_type","current_USD_price","iData","cData","Header","InvoiceContextProvider","setAllCompanyData","setSignatureData","setAllInvoicesData"],"sourceRoot":""}
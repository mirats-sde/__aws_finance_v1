"use strict";(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[4152,6839,9356,3015],{6839:function(e,n,i){i.r(n),i.d(n,{default:function(){return N}});var t=i(885),a={header:"Header_header__d+igc",active:"Header_active__7nHMJ",header_left:"Header_header_left__b5+S6",header_right:"Header_header_right__Yp9r9",right:"Header_right__b7qNX",sign_in:"Header_sign_in__l1VlE",portalprofile:"Header_portalprofile__Qf5Cm",avatar_profile:"Header_avatar_profile__WRaZm",navTitles:"Header_navTitles__hJeSy",dropdownContainer:"Header_dropdownContainer__uA-2z",dropdownLists:"Header_dropdownLists__enHds",myNav:"Header_myNav__3EAW-"},o=i(9714),s=i(7689),r=i(1087),c=i(6809),l=i(6149),d=i(3811),u=i(7997),v=i(7254),h=i(5514),m=i(3564),p=i(2791),f=i(6205),x=i(9460),_=i(5933),g=i(6910),j=i(184),N=function(){var e=(0,p.useState)(null),n=(0,t.Z)(e,2),i=n[0],N=n[1],b=(0,g.F_)(_.I8),Z=(0,t.Z)(b,1)[0],C=Boolean(i),A=function(){N(null)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:a.header,children:(0,j.jsxs)("header",{children:[(0,j.jsxs)("div",{className:a.header_left,children:[(0,j.jsx)("figure",{children:(0,j.jsx)("img",{src:o,alt:""})}),(0,j.jsxs)("div",{className:a.navCenterBody,children:[(0,j.jsx)(r.OL,{to:"/invoices",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Invoices"})}),(0,j.jsx)(r.OL,{to:"/vendors",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Vendors"})}),(0,j.jsx)(r.OL,{to:"/vendor-invoice",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Vendor Invoices"})}),(0,j.jsx)(r.OL,{to:"/client-report",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Client Report"})}),(0,j.jsx)(r.OL,{to:"/clients",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Clients"})}),(0,j.jsxs)("span",{className:a.dropdownContainer,children:[(0,j.jsx)("span",{className:a.myNav,children:"others"}),(0,j.jsxs)("ul",{className:a.dropdownLists,children:[(0,j.jsx)("li",{children:(0,j.jsx)(r.OL,{to:"/bank",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Bank"})})}),(0,j.jsx)("li",{children:(0,j.jsx)(r.OL,{to:"/companies",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Companies"})})}),(0,j.jsx)("li",{children:(0,j.jsx)(r.OL,{to:"/expense",className:function(e){return e.isActive?a.active:""},children:(0,j.jsx)("span",{className:a.nav_name,children:"Expense"})})})]})]})]})]}),(0,j.jsxs)("div",{className:a.right,children:[(0,j.jsx)("section",{}),(0,j.jsxs)("section",{className:a.sign_in,children:[(0,j.jsx)(c.Z,{children:(0,j.jsx)(l.Z,{title:"Account settings",children:(0,j.jsx)(d.Z,{onClick:function(e){N(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":C?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":C?"true":void 0,children:(0,j.jsx)(m.ZP,{size:"lg",bordered:!0,zoomed:!0,className:a.avatar_img})})})}),(0,j.jsxs)(u.Z,{anchorEl:i,id:"account-menu",open:C,onClose:A,onClick:A,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(m.ZP,{size:"sm",bordered:!0,className:a.avatar_img})," ",(0,j.jsx)("span",{className:a.avatar_profile,children:null===Z||void 0===Z?void 0:Z.email})]}),(0,j.jsxs)(v.Z,{onClick:function(){(0,x.w7)(_.I8).then((function(e){return(0,j.jsx)(s.Fg,{to:"/login"})}))},children:[(0,j.jsx)(h.Z,{children:(0,j.jsx)(f.Z,{fontSize:"small"})}),"Logout"]})]})]})]})]})})})}},9356:function(e,n,i){i.r(n),i.d(n,{UseGlobalContext:function(){return p}});var t=i(1413),a=i(2982),o=i(885),s=i(4569),r=i.n(s),c=i(276),l=i(2791),d=i(5933),u=i(1647),v=i(1508),h=i(184),m=(0,l.createContext)(),p=function(){return(0,l.useContext)(m)};n.default=function(e){var n=e.children,i=(0,l.useState)([]),s=(0,o.Z)(i,2),p=s[0],f=s[1],x=(0,l.useState)({open:!1,severity:"",msg:""}),_=(0,o.Z)(x,2),g=_[0],j=_[1],N=(0,l.useState)([]),b=(0,o.Z)(N,2),Z=b[0],C=b[1],A=(0,l.useState)([]),I=(0,o.Z)(A,2),S=(I[0],I[1],(0,l.useState)(!1)),k=(0,o.Z)(S,2),V=k[0],y=k[1],F=function(){r().get("https://finance.miratsoneservices.com/api/get-bank-transaction").then((function(e){f(null===e||void 0===e?void 0:e.data)}))};(0,l.useEffect)((function(){F(),(0,c.aF)((0,c.iH)(d.tO,(0,c.iH)("bank_statement"))).then((function(e){e.prefixes.forEach((function(e){C((function(n){return[].concat((0,a.Z)(n),[e.name])}))})),e.items.forEach((function(e){console.log(e)}))}))}),[]);var w={bankTransaction:p,name:"sonumonu",getingImgFromFolder:Z,setGetingImgFromFolder:C,getBankTransaction:F,setSnackbar:j,disableBtn:V,setDisableBtn:y},H=l.forwardRef((function(e,n){return(0,h.jsx)(v.Z,(0,t.Z)({elevation:6,ref:n,variant:"filled"},e))})),L=function(e,n){"clickaway"!==n&&j({open:!1})};return(0,h.jsxs)(m.Provider,{value:w,children:[n,(0,h.jsx)(u.Z,{open:null===g||void 0===g?void 0:g.open,autoHideDuration:4e3,onClose:L,children:(0,h.jsx)(H,{onClose:L,severity:null===g||void 0===g?void 0:g.severity,sx:{width:"100%"},children:null===g||void 0===g?void 0:g.msg})})]})}},3015:function(e,n,i){i.r(n),i.d(n,{useVendorContext:function(){return h}});var t=i(4942),a=i(1413),o=i(885),s=i(4569),r=i.n(s),c=i(2791),l=i(7689),d=i(9356),u=i(184),v=(0,c.createContext)(),h=function(){return(0,c.useContext)(v)};n.default=function(e){var n=e.children,i=(0,l.s0)(),s=(0,d.UseGlobalContext)().setSnackbar,h=(0,c.useState)({}),m=(0,o.Z)(h,2),p=m[0],f=m[1],x=(0,c.useState)([]),_=(0,o.Z)(x,2),g=_[0],j=_[1],N=(0,c.useState)([]),b=(0,o.Z)(N,2),Z=b[0],C=b[1],A=(0,c.useState)(!1),I=(0,o.Z)(A,2),S=(I[0],I[1]),k=function(e){r().get("https://finance.miratsoneservices.com/api/get-vendor").then((function(e){return j(e.data)})).catch((function(e){return console.log(e)}))},V=function(e){r().get("https://finance.miratsoneservices.com/api/get-vendor-invoice").then((function(e){return C(e.data)})).catch((function(e){return console.log(e)}))};(0,c.useEffect)((function(){k(),V()}),[]);var y={allVendorData:g,setAllVendorData:j,vendorInputData:p,setVendorInputData:f,allVendorInvoice:Z,setAllVendorInvoice:C,vendorBillingAddressChange:function(e){f((function(n){return(0,a.Z)((0,a.Z)({},n),{},{billing_address:(0,a.Z)((0,a.Z)({},n.billing_address),{},(0,t.Z)({},e.target.name,e.target.value))})}))},vendorShippingAddressChange:function(e){f((function(n){return(0,a.Z)((0,a.Z)({},n),{},{shipping_address:(0,a.Z)((0,a.Z)({},n.shipping_address),{},(0,t.Z)({},e.target.name,e.target.value))})}))},handleChange:function(e){f((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,t.Z)({},e.target.name,e.target.value))}))},submitAddVendor:function(){console.log("submit"),S(!0),i("/vendors"),r().post("https://finance.miratsoneservices.com/api/create-vendor",p).then((function(e){console.log(e.data),r().post("https://finance.miratsoneservices.com/api/create-vendor-tax-information",(0,a.Z)({vendor_id:e.data.vendor_id},null===p||void 0===p?void 0:p.tax_information)),r().post("https://finance.miratsoneservices.com/api/create-vendor-billing-address",(0,a.Z)({vendor_id:e.data.vendor_id},null===p||void 0===p?void 0:p.billing_address)),r().post("https://finance.miratsoneservices.com/api/create-vendor-shipping-address",(0,a.Z)({vendor_id:e.data.vendor_id},null===p||void 0===p?void 0:p.shipping_address)),r().post("https://finance.miratsoneservices.com/api/create-vendor-bank-details",(0,a.Z)({vendor_id:e.data.vendor_id},null===p||void 0===p?void 0:p.bank_details)).then((function(e){S(!1),s({open:!0,severity:"success",msg:"vendor Added Successfully!"})}))})).catch((function(e){return console.log(e)}))},getVendors:k,getVendorInvoice:V};return(0,u.jsx)(v.Provider,{value:y,children:n})}},4152:function(e,n,i){i.r(n),i.d(n,{default:function(){return C}});var t=i(4165),a=i(5861),o=i(4942),s=i(1413),r=i(885),c=i(2791),l="AddVendorInvoice_invoice_container__ofFmG",d="AddVendorInvoice_intro_text__hNoA-",u="AddVendorInvoice_invoice_details__MgAZl",v="AddVendorInvoice_invoice_details_left__TB1k5",h="AddVendorInvoice_invoice_details_right__4HlPg",m="AddVendorInvoice_input_group__oWecZ",p="AddVendorInvoice_inVoiceForm__4wwrI",f=i(276),x=i(5933),_=i(4569),g=i.n(_),j=i(6839),N=i(7689),b=i(3015),Z=i(184),C=function(){var e=(0,N.UO)().vendorInvoiceNumber,n=(0,N.s0)(),i=(0,b.useVendorContext)().getVendorInvoice,_=(0,c.useState)({}),C=(0,r.Z)(_,2),A=C[0],I=C[1];(0,c.useEffect)((function(){console.log("fetching invoice"),g().get("https://finance.miratsoneservices.com/api/get-vendor-invoice/".concat(e)).then((function(e){return I(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[]);var S=(0,c.useState)(),k=(0,r.Z)(S,2),V=k[0],y=k[1],F=function(e){I((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,o.Z)({},e.target.name,e.target.value))}))};console.log(e),console.log(A),console.log(V);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.default,{}),(0,Z.jsxs)("div",{className:l,children:[(0,Z.jsx)("h1",{className:d,children:"Invoice Upload - Vendor"}),(0,Z.jsxs)("form",{className:p,children:[(0,Z.jsxs)("div",{className:u,children:[(0,Z.jsxs)("section",{className:v,children:[(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"uploadInvoice",children:"Upload Invoice"}),(0,Z.jsx)("input",{type:"file",name:"uploadInvoice",onChange:function(e){return y(e.target.files[0])}})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"poNo",children:"PO Number"}),(0,Z.jsx)("input",{type:"text",name:"poNo",value:null===A||void 0===A?void 0:A.poNo,placeholder:"PO12345",onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"amount",children:"Amount "}),(0,Z.jsx)("input",{type:"number",name:"amount",value:null===A||void 0===A?void 0:A.amount,onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"status",children:"Status"}),(0,Z.jsxs)("select",{name:"status",id:"status",value:null===A||void 0===A?void 0:A.status,onChange:F,children:[(0,Z.jsx)("option",{value:"",disabled:!0,selected:!0,children:"select status"}),(0,Z.jsx)("option",{value:"Paid",children:"Paid"}),(0,Z.jsx)("option",{value:"Unpaid",children:"Unpaid"})]})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"invoice_date",children:"Invoice Date"}),(0,Z.jsx)("input",{type:"date",name:"invoice_date",value:null===A||void 0===A?void 0:A.invoice_date,onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"due_date",children:"Due Date"}),(0,Z.jsx)("input",{type:"date",name:"due_date",value:null===A||void 0===A?void 0:A.due_date,onChange:F})]})]}),(0,Z.jsxs)("section",{className:h,children:[(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"invoiceNo",children:"Vendor Invoice Number"}),(0,Z.jsx)("input",{type:"text",name:"invoiceNo",value:null===A||void 0===A?void 0:A.invoiceNo,onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"refSubLine",children:"Reference Subject Line"}),(0,Z.jsx)("input",{type:"text",name:"refSubLine",value:null===A||void 0===A?void 0:A.refSubLine,placeholder:"Subject Line",onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"billTo",children:"Bill To"}),(0,Z.jsx)("input",{type:"text",name:"billTo",value:null===A||void 0===A?void 0:A.billTo,placeholder:"Bill To",onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"additionalNote",children:"Additional Note"}),(0,Z.jsx)("textarea",{name:"additionalNote",value:null===A||void 0===A?void 0:A.additionalNote,onChange:F})]}),(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)("label",{htmlFor:"client_status",children:"Client Status"}),(0,Z.jsx)("input",{type:"text",name:"client_status",value:null===A||void 0===A?void 0:A.client_status,onChange:F})]})]})]}),(0,Z.jsx)("button",{onClick:function(o){o.preventDefault(),n("/vendor-invoice"),(0,f.KV)((0,f.iH)(x.tO,"Vendor-Invoice/".concat(null===A||void 0===A?void 0:A.invoiceNo,"/").concat(null===A||void 0===A?void 0:A.invoiceNo)),V).then(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(o){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(o),(0,f.Jt)(o.ref).then(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("File available at",a),e?g().put("https://finance.miratsoneservices.com/api/update-vendor-invoice/".concat(e),(0,s.Z)((0,s.Z)({},A),{},{invoice_link:a})).then((function(e){console.log("data updated successfully"),i()})).catch((function(e){return console.log(e)})):g().post("https://finance.miratsoneservices.com/api/create-vendor-invoice",(0,s.Z)((0,s.Z)({},A),{},{invoice_link:a})).then((function(e){console.log("data added successfully"),i()})).catch((function(e){return console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},children:"Submit"})]})]})]})}},9714:function(e,n,i){e.exports=i.p+"static/media/miratsLogo.b2dc32dbe312888e3144.png"}}]);
//# sourceMappingURL=4152.f982848f.chunk.js.map
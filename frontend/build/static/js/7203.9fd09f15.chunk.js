(self.webpackChunkinvoive=self.webpackChunkinvoive||[]).push([[7203,3001,554,6839,9356],{6839:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var i=t(885),o={header:"Header_header__d+igc",active:"Header_active__7nHMJ",header_left:"Header_header_left__b5+S6",header_right:"Header_header_right__Yp9r9",right:"Header_right__b7qNX",sign_in:"Header_sign_in__l1VlE",portalprofile:"Header_portalprofile__Qf5Cm",avatar_profile:"Header_avatar_profile__WRaZm",navTitles:"Header_navTitles__hJeSy",dropdownContainer:"Header_dropdownContainer__uA-2z",dropdownLists:"Header_dropdownLists__enHds",myNav:"Header_myNav__3EAW-"},a=t(9714),s=t(7689),l=t(1087),r=t(6809),d=t(6149),c=t(3811),u=t(7997),v=t(7254),m=t(5514),h=t(3564),p=t(2791),x=t(6205),f=t(9460),_=t(5933),g=t(6910),j=t(184),y=function(){var e=(0,p.useState)(null),n=(0,i.Z)(e,2),t=n[0],y=n[1],b=(0,g.F_)(_.I8),C=(0,i.Z)(b,1)[0],S=Boolean(t),N=function(){y(null)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:o.header,children:(0,j.jsxs)("header",{children:[(0,j.jsxs)("div",{className:o.header_left,children:[(0,j.jsx)("figure",{children:(0,j.jsx)("img",{src:a,alt:""})}),(0,j.jsxs)("div",{className:o.navCenterBody,children:[(0,j.jsx)(l.OL,{to:"/invoices",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Invoices"})}),(0,j.jsx)(l.OL,{to:"/vendors",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Vendors"})}),(0,j.jsx)(l.OL,{to:"/vendor-invoice",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Vendor Invoices"})}),(0,j.jsx)(l.OL,{to:"/client-report",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Client Report"})}),(0,j.jsx)(l.OL,{to:"/clients",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Clients"})}),(0,j.jsxs)("span",{className:o.dropdownContainer,children:[(0,j.jsx)("span",{className:o.myNav,children:"others"}),(0,j.jsxs)("ul",{className:o.dropdownLists,children:[(0,j.jsx)("li",{children:(0,j.jsx)(l.OL,{to:"/bank",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Bank"})})}),(0,j.jsx)("li",{children:(0,j.jsx)(l.OL,{to:"/companies",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Companies"})})}),(0,j.jsx)("li",{children:(0,j.jsx)(l.OL,{to:"/expense",className:function(e){return e.isActive?o.active:""},children:(0,j.jsx)("span",{className:o.nav_name,children:"Expense"})})})]})]})]})]}),(0,j.jsxs)("div",{className:o.right,children:[(0,j.jsx)("section",{}),(0,j.jsxs)("section",{className:o.sign_in,children:[(0,j.jsx)(r.Z,{children:(0,j.jsx)(d.Z,{title:"Account settings",children:(0,j.jsx)(c.Z,{onClick:function(e){y(e.currentTarget)},size:"small",sx:{ml:2},"aria-controls":S?"account-menu":void 0,"aria-haspopup":"true","aria-expanded":S?"true":void 0,children:(0,j.jsx)(h.ZP,{size:"lg",bordered:!0,zoomed:!0,className:o.avatar_img})})})}),(0,j.jsxs)(u.Z,{anchorEl:t,id:"account-menu",open:S,onClose:N,onClick:N,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(h.ZP,{size:"sm",bordered:!0,className:o.avatar_img})," ",(0,j.jsx)("span",{className:o.avatar_profile,children:null===C||void 0===C?void 0:C.email})]}),(0,j.jsxs)(v.Z,{onClick:function(){(0,f.w7)(_.I8).then((function(e){return(0,j.jsx)(s.Fg,{to:"/login"})}))},children:[(0,j.jsx)(m.Z,{children:(0,j.jsx)(x.Z,{fontSize:"small"})}),"Logout"]})]})]})]})]})})})}},3001:function(e,n,t){"use strict";t.r(n),t.d(n,{useCustomerContext:function(){return m}});var i=t(4942),o=t(1413),a=t(885),s=t(4569),l=t.n(s),r=t(2791),d=t(7689),c=t(9356),u=t(184),v=(0,r.createContext)(),m=function(){return(0,r.useContext)(v)};n.default=function(e){var n=e.children,t=(0,d.s0)(),s=(0,c.UseGlobalContext)().setSnackbar,m=(0,r.useState)({billing_address:{place_of_supply:"INTERNATIONAL"},shipping_address:{place_of_supply:"INTERNATIONAL"}}),h=(0,a.Z)(m,2),p=h[0],x=h[1],f=(0,r.useState)(!1),_=(0,a.Z)(f,2),g=_[0],j=_[1],y=(0,r.useState)([]),b=(0,a.Z)(y,2),C=b[0],S=b[1],N=(0,r.useCallback)((function(){l().get("https://finance.miratsoneservices.com/api/get-customer").then((function(e){S(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}),[C]);(0,r.useEffect)((function(){N()}),[]);var Z={handleChange:function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},e.target.name,e.target.value))}))},disableBTN:g,setDisableBTN:j,customerInputData:p,getAllCustomerData:N,setCustomerInputData:x,customerBillingAddressChange:function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),{},{billing_address:(0,o.Z)((0,o.Z)({},n.billing_address),{},(0,i.Z)({},e.target.name,e.target.value))})}))},customerShippingAddressChange:function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),{},{shipping_address:(0,o.Z)((0,o.Z)({},n.shipping_address),{},(0,i.Z)({},e.target.name,e.target.value))})}))},submitAddCustomer:function(){console.log("submit"),j(!0),t("/clients"),l().post("https://finance.miratsoneservices.com/api/create-customer",p).then((function(e){console.log(e.data),l().post("https://finance.miratsoneservices.com/api/create-tax-information",(0,o.Z)({customer_id:e.data.customer_id},null===p||void 0===p?void 0:p.tax_information)),l().post("https://finance.miratsoneservices.com/api/create-billing-address",(0,o.Z)({customer_id:e.data.customer_id},null===p||void 0===p?void 0:p.billing_address)),l().post("https://finance.miratsoneservices.com/api/create-shipping_address",(0,o.Z)({customer_id:e.data.customer_id},null===p||void 0===p?void 0:p.shipping_address)),l().post("https://finance.miratsoneservices.com/api/create-customer-bank-details",(0,o.Z)({customer_id:e.data.customer_id},null===p||void 0===p?void 0:p.bank_details)).then((function(e){return N()}),j(!1),s({open:!0,severity:"success",msg:"Customer Added Successfully!"}))})).catch((function(e){return console.log(e)}))},allCustomerData:C,setAllCustomerData:S};return(0,u.jsx)(v.Provider,{value:Z,children:n})}},9356:function(e,n,t){"use strict";t.r(n),t.d(n,{UseGlobalContext:function(){return p}});var i=t(1413),o=t(2982),a=t(885),s=t(4569),l=t.n(s),r=t(276),d=t(2791),c=t(5933),u=t(1647),v=t(1508),m=t(184),h=(0,d.createContext)(),p=function(){return(0,d.useContext)(h)};n.default=function(e){var n=e.children,t=(0,d.useState)([]),s=(0,a.Z)(t,2),p=s[0],x=s[1],f=(0,d.useState)({open:!1,severity:"",msg:""}),_=(0,a.Z)(f,2),g=_[0],j=_[1],y=(0,d.useState)([]),b=(0,a.Z)(y,2),C=b[0],S=b[1],N=(0,d.useState)([]),Z=(0,a.Z)(N,2),A=(Z[0],Z[1],(0,d.useState)(!1)),w=(0,a.Z)(A,2),T=w[0],P=w[1],I=function(){l().get("https://finance.miratsoneservices.com/api/get-bank-transaction").then((function(e){x(null===e||void 0===e?void 0:e.data)}))};(0,d.useEffect)((function(){I(),(0,r.aF)((0,r.iH)(c.tO,(0,r.iH)("bank_statement"))).then((function(e){e.prefixes.forEach((function(e){S((function(n){return[].concat((0,o.Z)(n),[e.name])}))})),e.items.forEach((function(e){console.log(e)}))}))}),[]);var U={bankTransaction:p,name:"sonumonu",getingImgFromFolder:C,setGetingImgFromFolder:S,getBankTransaction:I,setSnackbar:j,disableBtn:T,setDisableBtn:P},D=d.forwardRef((function(e,n){return(0,m.jsx)(v.Z,(0,i.Z)({elevation:6,ref:n,variant:"filled"},e))})),L=function(e,n){"clickaway"!==n&&j({open:!1})};return(0,m.jsxs)(h.Provider,{value:U,children:[n,(0,m.jsx)(u.Z,{open:null===g||void 0===g?void 0:g.open,autoHideDuration:4e3,onClose:L,children:(0,m.jsx)(D,{onClose:L,severity:null===g||void 0===g?void 0:g.severity,sx:{width:"100%"},children:null===g||void 0===g?void 0:g.msg})})]})}},554:function(e,n,t){"use strict";t.r(n),t.d(n,{useInvoiceContext:function(){return d}});var i=t(885),o=t(4569),a=t.n(o),s=t(2791),l=t(184),r=(0,s.createContext)(),d=function(){return(0,s.useContext)(r)};n.default=function(e){var n=e.children,t=(0,s.useState)([]),o=(0,i.Z)(t,2),d=o[0],c=o[1],u=(0,s.useState)([]),v=(0,i.Z)(u,2),m=v[0],h=v[1],p=(0,s.useState)([]),x=(0,i.Z)(p,2),f=x[0],_=x[1],g=(0,s.useCallback)((function(){a().get("https://finance.miratsoneservices.com/api/get-company").then((function(e){var n;return c(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.reverse())})).catch((function(e){return console.log(e)}))}),[d]),j=(0,s.useCallback)((function(){a().get("https://finance.miratsoneservices.com/api/get-invoice").then((function(e){var n;return _(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.reverse())})).catch((function(e){return console.log(e)}))}),[f]);function y(e){a().get("https://finance.miratsoneservices.com/api/get-signature").then((function(e){return h(null===e||void 0===e?void 0:e.data)})).catch((function(e){return console.log(e)}))}(0,s.useEffect)((function(){g(),j(),y()}),[]);var b={allCompanyData:d,allInvoicesData:f,setAllCompanyData:c,fetchAllCompanyData:j,fetchAllInvoicesData:g,fetchAllSignatureData:y,signatureData:m};return(0,l.jsx)(r.Provider,{value:b,children:n})}},8114:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var i,o=t(4942),a=t(7762),s=t(1413),l=t(885),r=t(168),d=t(2791),c=t(7689),u=t(1087),v=t(3001),m=t(554),h={mainContainer:"vendorUserSide_mainContainer__gfy38",header:"vendorUserSide_header__1kGZe",containerBody:"vendorUserSide_containerBody__PRVoh",bodyLeft:"vendorUserSide_bodyLeft__huVtB",bodyRight:"vendorUserSide_bodyRight__DT0MQ",bodyLeftTop:"vendorUserSide_bodyLeftTop__6lzwG",bodyLeftBottom:"vendorUserSide_bodyLeftBottom__42sVf",invoice_table:"vendorUserSide_invoice_table__kfJkm",bodyLeftTopHeader:"vendorUserSide_bodyLeftTopHeader__AiJXN",addressContainer:"vendorUserSide_addressContainer__JiWnw",bodyRightHeader:"vendorUserSide_bodyRightHeader__VMQgS",bodyRightTop:"vendorUserSide_bodyRightTop__jSVqL",emailContainer:"vendorUserSide_emailContainer__JgOy4",btnContainer:"vendorUserSide_btnContainer__x7MXo",bodyRightBottom:"vendorUserSide_bodyRightBottom__6xx36",bodyRightBottomHeader:"vendorUserSide_bodyRightBottomHeader__45x9m",displayContacts:"vendorUserSide_displayContacts__XzAVy",displayContactsContainer:"vendorUserSide_displayContactsContainer__i8BCO",contactActions:"vendorUserSide_contactActions__dDPw3",contactLeft:"vendorUserSide_contactLeft__3s3xO",addContact:"vendorUserSide_addContact__qyXlY",modalInnerContainer:"vendorUserSide_modalInnerContainer__aeDx+",inputContainer:"vendorUserSide_inputContainer__nkLaG",tabContainer:"vendorUserSide_tabContainer__PBO9Z",light:"vendorUserSide_light__FDsC-",active:"vendorUserSide_active__v5ofg",modalPaymentContainer:"vendorUserSide_modalPaymentContainer__gFYag",modalPayButton:"vendorUserSide_modalPayButton__TsXsw",downloadBTN:"vendorUserSide_downloadBTN__G7Goz",paymentSwitchActive:"vendorUserSide_paymentSwitchActive__whDcM"},p=(t(6082),t(3457)),x=t(9714),f=t(3677),_=(t(6839),t.p+"static/media/userProfilePic.ae3a914be1e9f200b221.png"),g=t(4569),j=t.n(g),y=t(6809),b=t(5923),C=t(6053),S=t(7425),N=t(1694),Z=t.n(N),A=t(5763),w=t(8688),T=t.n(w),P=t(6856),I=t(4045),U=t(9704),D=t.n(U),L=t(9356),k=t(184),R=(0,p.Z)(f.Z)(i||(i=(0,r.Z)(["\n  & .MuiTablePaginationUnstyled-toolbar {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: flex-start;\n    gap: 12px;\n    padding: 0.5em 0em;\n\n    @media (min-width: 768px) {\n      flex-direction: row;\n      align-items: center;\n    }\n  }\n\n  & .MuiTablePaginationUnstyled-selectLabel {\n    margin: 0;\n  }\n\n  & .MuiTablePaginationUnstyled-select {\n    padding: 0.1em 1em;\n    border-radius: 5px;\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n      rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n    border: none;\n    font-weight: 700;\n    font-size: 14px;\n    color: #484848;\n    outline: none;\n  }\n\n  & .MuiTablePaginationUnstyled-displayedRows {\n    margin: 0;\n\n    @media (min-width: 768px) {\n      margin-left: auto;\n    }\n  }\n\n  & .MuiTablePaginationUnstyled-spacer {\n    display: none;\n  }\n\n  & .MuiTablePaginationUnstyled-actions {\n    display: flex;\n    gap: 0.5rem;\n    padding: 0.5em;\n  }\n\n  & .MuiTablePaginationUnstyled-actions button {\n    padding: 0.1em 0.5em;\n    border: 1px solid #828282;\n    cursor: pointer;\n    background-color: white;\n    border-radius: 5px;\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n      rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n    border: none;\n  }\n\n  & .MuiTablePaginationUnstyled-actions span {\n    // padding: 0 0.8em;\n    padding: 1em;\n    color: #484848;\n    font-weight: 700;\n  }\n"]))),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,height:400,bgcolor:"background.paper",border:"none",boxShadow:24,pt:2,px:4,pb:3},B={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,height:200,bgcolor:"background.paper",border:"none",boxShadow:24,pt:2,px:4,pb:3},E=function(){var e,n,t,i,o,a,s,r=(0,c.UO)().currentUserId,p=(0,m.useInvoiceContext)().allInvoicesData,x=(0,v.useCustomerContext)().allCustomerData,f=(0,d.useState)(0),_=(0,l.Z)(f,2),g=_[0],j=_[1],C=(0,d.useState)(25),S=(0,l.Z)(C,2),N=S[0],Z=S[1],w=d.useState(!1),U=(0,l.Z)(w,2),L=U[0],M=U[1],E=(0,d.useState)({}),O=(0,l.Z)(E,2),H=O[0],F=O[1],z=function(e){var n=D().enc.Hex.parse(e).toString(D().enc.Base64);return D().AES.decrypt(n,"Mirats").toString(D().enc.Utf8)};return console.log(H),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("span",{className:h.downloadBTN,onClick:function(e){var n=document.getElementById("table-to-xls-DATA"),t=I.P6.table_to_book(n,{sheet:"Sheet JS"});return(0,I.NC)(t,"UnpaidInvoice.xlsx")},children:[(0,k.jsx)(P.tEr,{size:20})," Download Statement"]}),(0,k.jsxs)("table",{"aria-label":"custom pagination table",id:"table-to-xls-DATA",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsxs)("th",{children:["Date ",(0,k.jsx)("p",{children:"Invoice #"})]}),(0,k.jsxs)("th",{children:["Amount",(0,k.jsx)("p",{children:" Total due"})]}),(0,k.jsx)("th",{children:"Status"}),(0,k.jsx)("th",{children:"Age"}),(0,k.jsx)("th",{children:"Type"}),(0,k.jsx)("th",{})]})}),(0,k.jsx)("tbody",{children:null===(e=N>0?null===p||void 0===p||null===(i=p.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==z(String(r))})))||void 0===i||null===(o=i.filter((function(e){return"unpaid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===o?void 0:o.slice(g*N,g*N+N):p)||void 0===e||null===(n=e.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==z(String(r))})))||void 0===n||null===(t=n.filter((function(e){return"unpaid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===t?void 0:t.map((function(e,n){var t,i,o;return(0,k.jsx)("tr",{className:"canceled"===(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"cancelled"===(null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.toLowerCase())?h.cancelledRow:"",children:null===x||void 0===x||null===(o=x.filter((function(n){return(null===n||void 0===n?void 0:n.customer_id)==(null===e||void 0===e?void 0:e.customer_id)})))||void 0===o?void 0:o.map((function(n,t){var i,o,a,s,l;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("td",{children:[null===e||void 0===e?void 0:e.invoice_date,(0,k.jsx)("p",{children:null===e||void 0===e?void 0:e.invoice_number})]}),(0,k.jsx)("td",{children:(0,k.jsxs)("p",{className:h.light,children:[null!==e&&void 0!==e&&e.currency_type?null===e||void 0===e?void 0:e.currency_type:"INR"," ",null===e||void 0===e||null===(i=e.total_amount)||void 0===i?void 0:i.toFixed(2)]})}),(0,k.jsx)("td",{children:(0,k.jsx)("p",{children:(0,k.jsx)("span",{children:null===e||void 0===e||null===(o=e.payment_status)||void 0===o?void 0:o.toUpperCase()})})}),(0,k.jsxs)("td",{className:h.warning,children:[(0,k.jsx)(u.rU,{to:null===e||void 0===e?void 0:e.invoice_number}),"paid"===(null===e||void 0===e?void 0:e.payment_status)?"":(0,k.jsxs)("p",{children:[Math.round(Number((null===(a=new Date)||void 0===a?void 0:a.getTime())-(null===(s=new Date(null===e||void 0===e?void 0:e.invoice_date))||void 0===s?void 0:s.getTime()))/864e5)," ","days"]})]}),(0,k.jsx)("td",{children:(0,k.jsx)("span",{className:"active"===(null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.toLowerCase())?h.active:h.canceled,children:null===e||void 0===e?void 0:e.status})}),(0,k.jsx)("td",{onClick:function(n){return function(e,n){M(!0),F(n)}(0,e)},children:(0,k.jsx)(A.ASC,{size:20})})]})}))},n)}))}),(0,k.jsx)("tfoot",{children:(0,k.jsx)("tr",{children:(0,k.jsx)(R,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:null===p||void 0===p||null===(a=p.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==z(String(r))})))||void 0===a||null===(s=a.filter((function(e){return"unpaid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===s?void 0:s.length,rowsPerPage:N,page:g,componentsProps:{select:{"aria-label":"rows per page"},actions:{showFirstButton:!0,showLastButton:!0}},onPageChange:function(e,n){j(n)},onRowsPerPageChange:function(e){Z(parseInt(e.target.value,10)),j(0)}})})})]}),(0,k.jsx)(b.Z,{open:L,onClose:function(){M(!1),F({})},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(y.Z,{sx:B,children:[(0,k.jsx)("h2",{style:{textAlign:"center"},children:"Pay Invoice"}),(0,k.jsxs)("section",{className:h.modalPaymentContainer,children:[(0,k.jsxs)("section",{className:h.leftSection,children:[(0,k.jsx)("p",{children:"Invoice"}),(0,k.jsx)("h4",{children:null===H||void 0===H?void 0:H.invoice_number})]}),(0,k.jsxs)("section",{children:[(0,k.jsx)("p",{children:"Amount Due"}),(0,k.jsxs)("h4",{children:[null!==H&&void 0!==H&&H.currency_type?null===H||void 0===H?void 0:H.currency_type:"INR"," ",null===H||void 0===H?void 0:H.total_amount]})]})]}),(0,k.jsx)("div",{className:h.modalPayButton,children:(0,k.jsx)(T(),{environment:"TEST",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:String(null!==H&&void 0!==H&&H.currency_type?(null===H||void 0===H?void 0:H.current_USD_price)*(null===H||void 0===H?void 0:H.total_amount):null===H||void 0===H?void 0:H.total_amount),currencyCode:"INR",countryCode:"IN"},shippingAddressRequired:!1,callbackIntents:["PAYMENT_AUTHORIZATION"]},onLoadPaymentData:function(e){console.log("load payment data",e)},onPaymentAuthorized:function(e){return console.log(e),{transactionState:"SUCCESS"}},existingPaymentMethodRequired:"false",buttonColor:"white",buttonType:"pay"})})]})})]})},O=function(){var e,n,t,i,o,a,s,r=(0,c.UO)().currentUserId,p=(0,d.useState)([]),x=(0,l.Z)(p,2),f=(x[0],x[1],(0,m.useInvoiceContext)().allInvoicesData),_=(0,v.useCustomerContext)().allCustomerData,g=(0,d.useState)(0),j=(0,l.Z)(g,2),y=j[0],b=j[1],C=(0,d.useState)(),S=(0,l.Z)(C,2),N=(S[0],S[1],(0,d.useState)(25)),Z=(0,l.Z)(N,2),A=Z[0],w=Z[1],T=d.useState(null),U=(0,l.Z)(T,2),L=(U[0],U[1],(0,d.useState)({})),M=(0,l.Z)(L,2),B=M[0],E=(M[1],function(e){var n=D().enc.Hex.parse(e).toString(D().enc.Base64);return D().AES.decrypt(n,"Mirats").toString(D().enc.Utf8)}),O=function(e){var n=document.getElementById("table-to-xls-DATA-unpaid"),t=I.P6.table_to_book(n,{sheet:"Sheet JS"});return(0,I.NC)(t,"PaidInvoice.xlsx")};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("span",{className:h.downloadBTN,onClick:O,children:[(0,k.jsx)(P.tEr,{size:20,onClick:O,fontWeight:"400"}),"Download Statement"]}),(0,k.jsxs)("table",{"aria-label":"custom pagination table",id:"table-to-xls-DATA-unpaid",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[(0,k.jsxs)("th",{children:["Date ",(0,k.jsx)("p",{children:"Invoice #"})]}),(0,k.jsxs)("th",{children:["Amount",(0,k.jsx)("p",{children:" Total due"})]}),(0,k.jsx)("th",{children:"Status"}),(0,k.jsx)("th",{children:"Age"}),(0,k.jsx)("th",{children:"Type"})]})}),(0,k.jsx)("tbody",{children:null===(e=A>0?null===f||void 0===f||null===(i=f.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==E(String(r))})))||void 0===i||null===(o=i.filter((function(e){return"paid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===o?void 0:o.slice(y*A,y*A+A):f)||void 0===e||null===(n=e.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==E(String(r))})))||void 0===n||null===(t=n.filter((function(e){return"paid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===t?void 0:t.map((function(e,n){var t,i,o,a;return(0,k.jsx)("tr",{className:"canceled"===(null===e||void 0===e||null===(t=e.status)||void 0===t?void 0:t.toLowerCase())||"cancelled"===(null===e||void 0===e||null===(i=e.status)||void 0===i?void 0:i.toLowerCase())?h.cancelledRow:"",children:null===_||void 0===_||null===(o=_.filter((function(n){return(null===n||void 0===n?void 0:n.customer_id)==(null===e||void 0===e?void 0:e.customer_id)})))||void 0===o||null===(a=o.filter((function(n){var t,i;return null!==B&&void 0!==B&&B.payment_status?(null===e||void 0===e||null===(t=e.payment_status)||void 0===t?void 0:t.toLowerCase())==(null===B||void 0===B||null===(i=B.payment_status)||void 0===i?void 0:i.toLowerCase()):n})))||void 0===a?void 0:a.map((function(n,t){var i,o,a,s;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("td",{children:[null===e||void 0===e?void 0:e.invoice_date,(0,k.jsx)("p",{children:null===e||void 0===e?void 0:e.invoice_number})]}),(0,k.jsx)("td",{children:(0,k.jsxs)("p",{className:h.light,children:[null!==e&&void 0!==e&&e.currency_type?null===e||void 0===e?void 0:e.currency_type:"INR"," ",null===e||void 0===e||null===(i=e.total_amount)||void 0===i?void 0:i.toFixed(2)]})}),(0,k.jsx)("td",{children:(0,k.jsx)("p",{children:(0,k.jsx)("span",{children:null===e||void 0===e?void 0:e.payment_status})})}),(0,k.jsxs)("td",{className:h.warning,children:[(0,k.jsx)(u.rU,{to:null===e||void 0===e?void 0:e.invoice_number}),"paid"===(null===e||void 0===e?void 0:e.payment_status)?"":(0,k.jsxs)("p",{children:["Overdue by"," ",Math.round(Number((null===(o=new Date)||void 0===o?void 0:o.getTime())-(null===(a=new Date(null===e||void 0===e?void 0:e.invoice_date))||void 0===a?void 0:a.getTime()))/864e5)," ","days"]})]}),(0,k.jsx)("td",{children:(0,k.jsx)("span",{className:"active"===(null===e||void 0===e||null===(s=e.status)||void 0===s?void 0:s.toLowerCase())?h.active:h.canceled,children:null===e||void 0===e?void 0:e.status})})]})}))},n)}))}),(0,k.jsx)("tfoot",{children:(0,k.jsx)("tr",{children:(0,k.jsx)(R,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:null===f||void 0===f||null===(a=f.filter((function(e){return(null===e||void 0===e?void 0:e.customer_id)==E(String(r))})))||void 0===a||null===(s=a.filter((function(e){return"paid"==(null===e||void 0===e?void 0:e.payment_status)})))||void 0===s?void 0:s.length,rowsPerPage:A,page:y,componentsProps:{select:{"aria-label":"rows per page"},actions:{showFirstButton:!0,showLastButton:!0}},onPageChange:function(e,n){b(n)},onRowsPerPageChange:function(e){w(parseInt(e.target.value,10)),b(0)}})})})]})]})},H=function(){var e,n,t,i,r,u,p,f,g,N,A,w,P,I,U,R,B,H,F=(0,c.UO)().currentUserId,z=(0,d.useState)({}),G=(0,l.Z)(z,2),Y=G[0],V=G[1],q=(0,d.useState)({}),J=(0,l.Z)(q,2),W=J[0],X=(J[1],(0,L.UseGlobalContext)()),Q=X.disableBtn,K=X.setDisableBtn,$=X.setSnackbar,ee=(0,d.useState)({}),ne=(0,l.Z)(ee,2),te=ne[0],ie=ne[1],oe=(0,d.useState)("unpaid"),ae=(0,l.Z)(oe,2),se=ae[0],le=ae[1],re=(0,d.useState)({}),de=(0,l.Z)(re,2),ce=de[0],ue=de[1],ve=(0,d.useState)({}),me=(0,l.Z)(ve,2),he=me[0],pe=me[1],xe=(0,d.useState)(""),fe=(0,l.Z)(xe,2),_e=(fe[0],fe[1],(0,d.useState)([])),ge=(0,l.Z)(_e,2),je=(ge[0],ge[1],(0,d.useState)()),ye=(0,l.Z)(je,2),be=(ye[0],ye[1]),Ce=((0,m.useInvoiceContext)().allInvoicesData,(0,v.useCustomerContext)().allCustomerData,(0,d.useState)(0)),Se=(0,l.Z)(Ce,2),Ne=(Se[0],Se[1],(0,d.useState)(25)),Ze=(0,l.Z)(Ne,2),Ae=(Ze[0],Ze[1],d.useState(null)),we=(0,l.Z)(Ae,2),Te=(we[0],we[1],(0,d.useState)({})),Pe=(0,l.Z)(Te,2),Ie=(Pe[0],Pe[1],(0,d.useState)(!1)),Ue=(0,l.Z)(Ie,2),De=Ue[0],Le=Ue[1],ke=d.useState(!1),Re=(0,l.Z)(ke,2),Me=Re[0],Be=Re[1],Ee=function(e){var n=D().enc.Hex.parse(e).toString(D().enc.Base64);return D().AES.decrypt(n,"Mirats").toString(D().enc.Utf8)},Oe=function(){Be(!0)},He=function(){Be(!1),ue({})};function Fe(e){console.log("calling"),j().get("https://finance.miratsoneservices.com/api/get-customer/".concat(Ee(String(F)))).then((function(e){V(e.data),ie((function(n){return(0,s.Z)((0,s.Z)({},n),{},{customer:e.data})}))}))}(0,d.useEffect)((function(){Fe(),j().get("https://finance.miratsoneservices.com/api/get-multiple-invoice/".concat(Ee(String(F)))).then((function(e){be(e.data);var n,t=[],i=(0,a.Z)(e.data);try{for(i.s();!(n=i.n()).done;){var o=n.value;j().get("https://finance.miratsoneservices.com/api/get-company/".concat(null===o||void 0===o?void 0:o.company_id)).then((function(e){console.log(e),t.push(e.data)}))}}catch(l){i.e(l)}finally{i.f()}ie((function(n){return(0,s.Z)((0,s.Z)({},n),{},{invoice:e.data,companies:t})}))})).catch((function(e){return console.log(e)}))}),[]);var ze=function(e){ue((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,o.Z)({},e.target.name,e.target.value))}))},Ge=function(e){pe((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,o.Z)({},e.target.name,e.target.value))}))};return console.log(te),console.log(Ee(String(Y))),console.log(ce),console.log(Y),console.log(W),console.log(Ee(String(F))),(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:h.mainContainer,children:[(0,k.jsxs)("section",{className:h.header,children:[(0,k.jsx)("img",{src:x,alt:"LOGO"}),(0,k.jsx)("h3",{children:null===Y||void 0===Y?void 0:Y.company_name})]}),(0,k.jsxs)("div",{className:h.containerBody,children:[(0,k.jsxs)("div",{className:h.bodyLeft,children:[(0,k.jsxs)("div",{className:h.bodyLeftTop,children:[(0,k.jsxs)("div",{className:h.bodyLeftTopHeader,children:[(0,k.jsx)("h2",{children:"MIRATS (Shell)"}),(0,k.jsxs)("p",{children:[(0,k.jsxs)("span",{children:[null===te||void 0===te||null===(e=te.invoice)||void 0===e||null===(n=e.filter((function(e){return"unpaid"===(null===e||void 0===e?void 0:e.payment_status)})))||void 0===n?void 0:n.length," ","Invoices"]})," ","TOTAL DUE ",(0,k.jsx)("br",{}),"\u20b9"," ",null===te||void 0===te||null===(t=te.invoice)||void 0===t||null===(i=t.filter((function(e){return"unpaid"===(null===e||void 0===e?void 0:e.payment_status)})))||void 0===i||null===(r=i.reduce((function(e,n){return e+(null!==n&&void 0!==n&&n.currency_type?(null===n||void 0===n?void 0:n.current_USD_price)*(null===n||void 0===n?void 0:n.total_amount):null===n||void 0===n?void 0:n.total_amount)}),0))||void 0===r?void 0:r.toFixed(2)]})]}),(0,k.jsxs)("div",{className:h.addressContainer,children:[(0,k.jsxs)("div",{className:h.addressLeft,children:[(0,k.jsx)("h4",{children:"To"}),(0,k.jsx)("p",{children:"1309 Coffeen Avenue,"}),(0,k.jsx)("p",{children:"Sheridan, WY 82801, United"}),(0,k.jsx)("p",{children:"states"}),(0,k.jsx)("p",{children:"phone- (895) 733-6583"}),(0,k.jsx)("p",{children:"email- accounting@mirats.in"})]}),(0,k.jsxs)("div",{className:h.addressRight,children:[(0,k.jsx)("h4",{children:"From"}),(0,k.jsx)("p",{children:null===te||void 0===te||null===(u=te.customer)||void 0===u||null===(p=u.billing_address)||void 0===p?void 0:p.street1}),(0,k.jsx)("p",{children:null===te||void 0===te||null===(f=te.customer)||void 0===f||null===(g=f.billing_address)||void 0===g?void 0:g.street2}),(0,k.jsxs)("p",{children:[null===te||void 0===te||null===(N=te.customer)||void 0===N||null===(A=N.billing_address)||void 0===A?void 0:A.city,","," ",null===te||void 0===te||null===(w=te.customer)||void 0===w||null===(P=w.billing_address)||void 0===P?void 0:P.country]}),(0,k.jsxs)("p",{children:["email- ",null===te||void 0===te||null===(I=te.customer)||void 0===I?void 0:I.account_email_id]})]})]})]}),(0,k.jsxs)("div",{className:h.bodyLeftBottom,children:[(0,k.jsx)("section",{className:h.bodyLeftBottomHeader}),(0,k.jsxs)("div",{className:h.invoice_table,children:[(0,k.jsx)("div",{className:h.tabContainer,children:[{id:1,tabName:"unpaid"},{id:2,tabName:"paid"},{id:3,tabName:"payments"}].map((function(e){var n;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("h3",{className:Z()(h.light,(0,o.Z)({},h.active,se===e.tabName?h.active:"")),onClick:function(){le(e.tabName)},children:null===(n=e.tabName)||void 0===n?void 0:n.toUpperCase()})})}))}),(0,k.jsx)("div",{className:h.tabComponent,children:function(e){switch(e){case"unpaid":return(0,k.jsx)(E,{});case"paid":return(0,k.jsx)(O,{})}}(se)})]})]})]}),(0,k.jsxs)("div",{className:h.bodyRight,children:[(0,k.jsxs)("section",{className:h.bodyRightHeader,children:[(0,k.jsx)("h5",{onClick:function(){return Le(!1)},className:De?"":h.paymentSwitchActive,style:De?{}:{color:"#1765dc"},children:"SEND EMAIL"}),(0,k.jsx)("h5",{onClick:function(){return Le(!0)},className:De?h.paymentSwitchActive:"",style:De?{color:"#1765dc"}:{},children:"PAYMENTS"})]}),(0,k.jsx)("section",{className:h.bodyRightTop,children:De?(0,k.jsx)(T(),{environment:"TEST",paymentRequest:{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"12345678901234567890",merchantName:"Demo Merchant"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:String(null===te||void 0===te||null===(U=te.invoice)||void 0===U||null===(R=U.filter((function(e){return"unpaid"===(null===e||void 0===e?void 0:e.payment_status)})))||void 0===R||null===(B=R.reduce((function(e,n){return e+(null!==n&&void 0!==n&&n.currency_type?(null===n||void 0===n?void 0:n.current_USD_price)*(null===n||void 0===n?void 0:n.total_amount):null===n||void 0===n?void 0:n.total_amount)}),0))||void 0===B?void 0:B.toFixed(2)),currencyCode:"INR",countryCode:"IN"},shippingAddressRequired:!1,callbackIntents:["PAYMENT_AUTHORIZATION"]},onLoadPaymentData:function(e){console.log("load payment data",e)},onPaymentAuthorized:function(e){return console.log(e),{transactionState:"SUCCESS"}},existingPaymentMethodRequired:"false",buttonColor:"white",buttonType:"pay"}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:h.emailContainer,children:[(0,k.jsx)("input",{type:"text",placeholder:"subject",name:"subject",onChange:Ge}),(0,k.jsx)("textarea",{name:"text",placeholder:"text",id:"",onChange:Ge,cols:"30",rows:"5"})]}),(0,k.jsxs)("div",{className:h.btnContainer,children:[(0,k.jsx)("button",{onClick:function(e){e.preventDefault(),K(!0),null!==he&&void 0!==he&&he.text&&""!==(null===he||void 0===he?void 0:he.subject)?j().post("https://testemailspringboot.de.r.appspot.com/https://finance.miratsoneservices.com/api/v1/vendorinvoice",(0,s.Z)({fromEmail:"varsha.jadhav@miratsinsights.com",toEmails:"itzaltuyaar@gmail.com",password:"rseciioaxfedbmqy",customerName:null===Y||void 0===Y?void 0:Y.company_name},he)).then((function(e){$({open:!0,severity:"success",msg:"Email sent Successfully!"}),K(!1)})):alert("field are empty")},disabled:Q,style:Q?{cursor:"not-allowed"}:{cursor:"pointer"},children:"Send"}),(0,k.jsx)("button",{onClick:function(e){return pe({})},children:"Cancel"})]})]})}),(0,k.jsxs)("section",{className:h.bodyRightBottom,children:[(0,k.jsx)("div",{className:h.bodyRightBottomHeader,children:(0,k.jsx)("h4",{children:"CONTACTS"})}),(0,k.jsx)("div",{className:h.displayContacts,children:null===Y||void 0===Y||null===(H=Y.contacts)||void 0===H?void 0:H.map((function(e,n){return(0,k.jsxs)("div",{className:h.displayContactsContainer,children:[(0,k.jsx)("div",{className:h.contactLeft,children:(0,k.jsx)("img",{src:_,alt:"p"})}),(0,k.jsxs)("div",{className:h.contactRight,children:[(0,k.jsxs)("p",{children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]}),(0,k.jsx)("p",{children:null===e||void 0===e?void 0:e.contact_phone}),(0,k.jsx)("p",{children:null===e||void 0===e?void 0:e.contact_email})]}),(0,k.jsxs)("div",{className:h.contactActions,children:[(0,k.jsx)(C.Uf_,{style:{cursor:"pointer"},onClick:function(){Oe(),ue(e)}}),(0,k.jsx)(S.Ehm,{style:{cursor:"pointer"},onClick:function(){return n=e,void j().delete("https://finance.miratsoneservices.com/api/delete-contact/".concat(null===n||void 0===n?void 0:n.contact_id)).then((function(e){console.log("contact deleted successfully"),Fe()})).catch((function(e){return console.log("error in deleting contact"+e)}));var n}})]})]})}))}),(0,k.jsx)("section",{className:h.addContact,onClick:Oe,children:"+ Add Contact"})]}),(0,k.jsx)(b.Z,{open:Me,onClose:He,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsx)(y.Z,{sx:M,children:(0,k.jsxs)("div",{className:h.modalInnerContainer,children:[(0,k.jsxs)("div",{className:h.inputContainer,children:[(0,k.jsx)("section",{children:(0,k.jsx)("label",{htmlFor:"first_name",children:"First Name"})})," : ",(0,k.jsx)("input",{type:"text",name:"first_name",value:null===ce||void 0===ce?void 0:ce.first_name,onChange:ze})]}),(0,k.jsxs)("div",{className:h.inputContainer,children:[(0,k.jsxs)("section",{children:[(0,k.jsx)("label",{htmlFor:"last_name",children:"Last name"})," "]})," : ",(0,k.jsx)("input",{type:"text",name:"last_name",value:null===ce||void 0===ce?void 0:ce.last_name,onChange:ze})]}),(0,k.jsxs)("div",{className:h.inputContainer,children:[(0,k.jsxs)("section",{children:[(0,k.jsx)("label",{htmlFor:"contact_email",children:"Email"})," "]})," : ",(0,k.jsx)("input",{type:"text",name:"contact_email",value:null===ce||void 0===ce?void 0:ce.contact_email,onChange:ze})]}),(0,k.jsxs)("div",{className:h.inputContainer,children:[(0,k.jsxs)("section",{children:[(0,k.jsx)("label",{htmlFor:"contact_phone",children:"Phone"})," "]})," : ",(0,k.jsx)("input",{type:"text",name:"contact_phone",value:null===ce||void 0===ce?void 0:ce.contact_phone,onChange:ze})]}),(0,k.jsxs)("div",{className:h.inputContainer,children:[(0,k.jsx)("button",{onClick:He,children:"Cancel"}),(0,k.jsx)("button",{onClick:function(e){e.preventDefault(),null!==ce&&void 0!==ce&&ce.contact_id?j().put("https://finance.miratsoneservices.com/api/update-contact/".concat(null===ce||void 0===ce?void 0:ce.contact_id),ce).then((function(e){console.log("contact updated successful"),He(),Fe(),$({open:!0,severity:"success",msg:"Contact Updated Successfully!"})})).catch((function(e){return console.log(e)})):j().post("https://finance.miratsoneservices.com/api/create-contact",(0,s.Z)((0,s.Z)({},ce),{},{customer_id:Ee(String(F))})).then((function(e){console.log("contact added successful"),He(),Fe(),$({open:!0,severity:"success",msg:"Contact Added Successfully!"})})).catch((function(e){return console.log(e)}))},children:"Upload"})]})]})})})]})]})]})})}},6082:function(e,n,t){"use strict";e.exports=t.p+"static/media/loader.56ec7b0f514fa47b67e4.gif"},9714:function(e,n,t){"use strict";e.exports=t.p+"static/media/miratsLogo.b2dc32dbe312888e3144.png"},2480:function(){}}]);
//# sourceMappingURL=7203.9fd09f15.chunk.js.map
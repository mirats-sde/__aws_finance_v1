{"version":3,"file":"static/js/2002.4b536d46.chunk.js","mappings":"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","sources":["webpack://invoive/./src/pages/Expense/add_expense/AddExpense.module.css?098e","pages/Expense/add_expense/AddExpense.js","pages/globalContext/GlobalContext.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"expenseTrackerMainContainer\":\"AddExpense_expenseTrackerMainContainer__XhKEy\",\"expenseTrackerBodyContainer\":\"AddExpense_expenseTrackerBodyContainer__w4md9\",\"expenseInputContainer\":\"AddExpense_expenseInputContainer__ZUW61\",\"expenseTrackerFooterContainer\":\"AddExpense_expenseTrackerFooterContainer__TXmfr\"};","import React, { useEffect, useState } from \"react\";\nimport styles from \"./AddExpense.module.css\";\nimport {\n  addDoc,\n  collection,\n  doc,\n  getDocs,\n  limit,\n  onSnapshot,\n  orderBy,\n  query,\n  setDoc,\n  where,\n} from \"firebase/firestore\";\nimport { auth, db, firestoredb, storage } from \"../../../FirebaseConfig\";\nimport {\n  deleteObject,\n  getDownloadURL,\n  listAll,\n  ref,\n  uploadBytes,\n} from \"firebase/storage\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport loader from \"../../../assets/loader.gif\";\nimport { UseGlobalContext } from \"../../globalContext/GlobalContext\";\n\nconst AddExpense = () => {\n  const { bill_id } = useParams();\n  const navigate = useNavigate();\n  const [expenseData, setExpenseData] = useState({});\n  const [img, setImg] = useState();\n  const [disableBTN, setDisableBTN] = useState(false);\n  const [user] = useAuthState(auth);\n  const { setSnackbar } = UseGlobalContext();\n  //   console.log(user?.uid);\n\n  // edit expense\n  const getEditExpense = async () => {\n    bill_id\n      ? onSnapshot(doc(firestoredb, \"expenses\", String(bill_id)), (data) => {\n          setExpenseData({ ...data?.data() });\n        })\n      : setExpenseData({});\n  };\n  console.log(expenseData);\n\n  useEffect(() => {\n    getEditExpense();\n  }, []);\n  const handleChagne = (e) => {\n    setExpenseData((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  // ----------to Get Last DataBase ID-------\n  const GetLastClientID = async () => {\n    const q = query(\n      collection(firestoredb, \"expenses\"),\n      orderBy(\"bill_id\", \"desc\"),\n      limit(1)\n    );\n    const querySnapshot = await getDocs(q);\n    let bill_id = null;\n    querySnapshot.forEach((elem) => {\n      bill_id = elem.data()?.bill_id;\n    });\n    return bill_id;\n  };\n  console.log(bill_id);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    bill_id\n      ? listAll(ref(storage, `expense/${bill_id}`))\n          .then((res) => {\n            res.items.forEach((itemref) => {\n              deleteObject(itemref)\n                .then(() => {})\n                .catch((er) => {});\n            });\n          })\n          .then((data) => {\n            setDisableBTN(true);\n            uploadBytes(\n              ref(storage, `expense/${bill_id}/${img?.name}`),\n              img\n            ).then(async (snapshot) => {\n              getDownloadURL(snapshot.ref).then(async (downloadURL) => {\n                console.log(\"File available at\", downloadURL);\n                await setDoc(doc(firestoredb, \"expenses\", String(bill_id)), {\n                  ...expenseData,\n                  image_url: downloadURL,\n                  bill_id: Number(bill_id),\n                })\n                  .then(\n                    () => setDisableBTN(false),\n                    setExpenseData({}),\n                    navigate(\"/expense\"),\n                    setSnackbar({\n                      open: true,\n                      severity: \"success\",\n                      msg: \"Expense Updated Successfully!\",\n                    })\n                  )\n                  .catch((err) => console.log(err));\n              });\n            });\n          })\n      : GetLastClientID().then(async (lastid) => {\n          console.log(\"The last id is\", lastid);\n          console.log(\"NEw id is\", Number(lastid) + 1);\n          setDisableBTN(true);\n          uploadBytes(\n            ref(storage, `expense/${Number(lastid) + 1}/${img?.name}`),\n            img\n          ).then(async (snapshot) => {\n            console.log(snapshot);\n            getDownloadURL(snapshot.ref).then(async (downloadURL) => {\n              console.log(\"File available at\", downloadURL);\n              await setDoc(\n                doc(firestoredb, \"expenses\", String(Number(lastid) + 1)),\n                {\n                  ...expenseData,\n                  image_url: downloadURL,\n                  bill_id: Number(lastid) + 1,\n                }\n              )\n                .then(\n                  () => setDisableBTN(false),\n                  setExpenseData({}),\n                  setImg(),\n                  navigate(\"/expense\"),\n                  setSnackbar({\n                    open: true,\n                    severity: \"success\",\n                    msg: \"Expense Added Successfully!\",\n                  })\n                )\n                .catch((err) => console.log(err));\n            });\n          });\n        });\n  };\n  return (\n    <div className={styles.expenseTrackerMainContainer}>\n      <button onClick={() => navigate(\"/expense\")}>Back To Home</button>\n      <div className={styles.expenseTrackerBodyContainer}>\n        <form onSubmit={handleSubmit}>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"company_name\">Company Name :</label>\n            <select\n              required\n              name=\"company_name\"\n              value={expenseData?.company_name ? expenseData?.company_name : \"\"}\n              onChange={handleChagne}\n            >\n              <option value=\"\" disabled selected>\n                Select A Company\n              </option>\n              <option value=\"Mirats Insights Private Limited\">\n                Mirats Insights Private Limited\n              </option>\n              <option value=\" Macer India Research & Technology Service\">\n                Macer India Research & Technology Service\n              </option>\n            </select>\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"expense_nature\">Expense Nature :</label>\n            <input\n              required\n              type=\"text\"\n              name=\"expense_nature\"\n              value={\n                expenseData?.expense_nature ? expenseData?.expense_nature : \"\"\n              }\n              onChange={handleChagne}\n            />\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"bill_amount\">Bill Amount :</label>\n            <input\n              type=\"number\"\n              name=\"bill_amount\"\n              required\n              // step=\"any\"\n              value={expenseData?.bill_amount ? expenseData?.bill_amount : \"\"}\n              placeholder=\"Enter Bill Amount\"\n              onChange={handleChagne}\n            />\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"uploaded_by\">select Name :</label>\n            <select\n              name=\"uploaded_by\"\n              required\n              value={expenseData?.uploaded_by ? expenseData?.uploaded_by : \"\"}\n              onChange={handleChagne}\n            >\n              {/* <option value=\"\" disabled selected>\n              Select A Company\n            </option> */}\n              <option value=\"\" disabled defaultValue>\n                Select Person\n              </option>\n              <option value=\"Mayank Patel\">Mayank Patel</option>\n              <option value=\" Amit Sharma\">Amit Sharma</option>\n              <option value=\" Anupam Kumar\">Anupam Kumar</option>\n              <option value=\" Saumil Shah\">Saumil Shah</option>\n              <option value=\" Suyog kosia\">Suyog kosia</option>\n              <option value=\" Ashwin Gopalakrishnan\">\n                Ashwin Gopalakrishnan\n              </option>\n            </select>\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"payment_method\">Select Payment Method :</label>\n            <select\n              name=\"payment_method\"\n              id=\"payment_method\"\n              required\n              value={\n                expenseData?.payment_method ? expenseData?.payment_method : \"\"\n              }\n              onChange={handleChagne}\n            >\n              <option value=\"\" disabled selected>\n                Select Payment Mode\n              </option>\n              <option value=\"Mirats Credit Cards\">Mirats Credit Cards</option>\n              <option value=\" Macer Credit Cards\">Macer Credit Cards</option>\n              <option value=\" Mirats UPI\">Mirats UPI</option>\n              <option value=\" Macer UPI\">Macer UPI</option>\n              <option value=\" Mirats Debit Cards\">Mirats Debit Cards</option>\n              <option value=\" Macer Debit Cards\">Macer Debit Cards</option>\n              <option value=\" Mirats Net banking\">Mirats Net banking</option>\n              <option value=\" Macer Net Banking\">Macer Net Banking</option>\n            </select>\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"selected_date\">Pick Date :</label>\n            <input\n              type=\"date\"\n              name=\"selected_date\"\n              required\n              value={\n                expenseData?.selected_date ? expenseData?.selected_date : \"\"\n              }\n              onChange={(e) =>\n                setExpenseData((prev) => ({\n                  ...prev,\n                  [e.target.name]: e.target.value,\n                }))\n              }\n            />\n          </section>\n          {/* name must be image_url for the below file input */}\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"file\">Upload Bill File :</label>\n            <input\n              type=\"file\"\n              name=\"image_url\"\n              required\n              // value={expenseData?.image_url}\n              onChange={(e) => setImg(e.target.files[0])}\n            />\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"selected_date\">Invoice Number :</label>\n            <input\n              type=\"text\"\n              name=\"invoice_number\"\n              value={\n                expenseData?.invoice_number ? expenseData?.invoice_number : \"\"\n              }\n              placeholder=\"Invoice Number\"\n              onChange={handleChagne}\n            />\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"selected_date\">Description :</label>\n            <textarea\n              name=\"description\"\n              cols=\"50\"\n              rows=\"4\"\n              value={expenseData?.description ? expenseData?.description : \"\"}\n              onChange={handleChagne}\n              placeholder=\"Bill Description\"\n            ></textarea>\n          </section>\n          <section className={styles.expenseInputContainer}>\n            <label htmlFor=\"selected_date\">GST Number :</label>\n            <input\n              type=\"text\"\n              name=\"GST_number\"\n              value={expenseData?.GST_number ? expenseData?.GST_number : \"\"}\n              placeholder=\"GST Number\"\n              onChange={handleChagne}\n            />\n          </section>\n          <div className={styles.expenseTrackerFooterContainer}>\n            {disableBTN ? (\n              <img src={loader} />\n            ) : (\n              <button type=\"submit\" disabled={disableBTN}>\n                Save\n              </button>\n            )}\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddExpense;\n","import axios from \"axios\";\nimport { listAll, ref } from \"firebase/storage\";\nimport React, { createContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useContext } from \"react\";\nimport { storage } from \"../../FirebaseConfig\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\nconst GlobalContextProvider = createContext();\nexport const UseGlobalContext = () => {\n  return useContext(GlobalContextProvider);\n};\nconst GlobalContext = ({ children }) => {\n  const [bankTransaction, setBankTransaction] = useState([]);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    severity: \"\",\n    msg: \"\",\n  });\n  const [getingImgFromFolder, setGetingImgFromFolder] = useState([]);\n  const [exportExcel, setExportExcel] = useState([]);\n  const [disableBtn, setDisableBtn] = useState(false);\n\n  const getBankTransaction = () => {\n    axios\n      .get(\"https://finance.miratsoneservices.com/api/get-bank-transaction\")\n      .then((data) => {\n        setBankTransaction(data?.data);\n      });\n  };\n\n  useEffect(() => {\n    getBankTransaction();\n    listAll(ref(storage, ref(`bank_statement`))).then((res) => {\n      res.prefixes.forEach((folderRef) => {\n        setGetingImgFromFolder((prev) => [...prev, folderRef.name]);\n      });\n      res.items.forEach((itemref) => {\n        console.log(itemref);\n      });\n    });\n  }, []);\n\n  // console.log(bankTransaction);\n  let name = \"sonumonu\";\n  const value = {\n    bankTransaction,\n    name,\n    getingImgFromFolder,\n    setGetingImgFromFolder,\n    getBankTransaction,\n    setSnackbar,\n    disableBtn,\n    setDisableBtn,\n  };\n  // snackbar\n  const Alert = React.forwardRef(function Alert(props, ref) {\n    return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n  });\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setSnackbar({ open: false });\n  };\n  return (\n    <GlobalContextProvider.Provider value={value}>\n      {children}\n      <Snackbar\n        open={snackbar?.open}\n        autoHideDuration={4000}\n        onClose={handleClose}\n      >\n        <Alert\n          onClose={handleClose}\n          severity={snackbar?.severity}\n          sx={{ width: \"100%\" }}\n        >\n          {snackbar?.msg}\n        </Alert>\n      </Snackbar>\n    </GlobalContextProvider.Provider>\n  );\n};\n\nexport default GlobalContext;\n"],"names":["bill_id","useParams","navigate","useNavigate","useState","expenseData","setExpenseData","img","setImg","disableBTN","setDisableBTN","useAuthState","auth","setSnackbar","UseGlobalContext","getEditExpense","onSnapshot","doc","firestoredb","String","data","console","log","useEffect","handleChagne","e","prev","target","name","value","GetLastClientID","q","query","collection","orderBy","limit","getDocs","querySnapshot","forEach","elem","handleSubmit","preventDefault","listAll","ref","storage","then","res","items","itemref","deleteObject","catch","er","uploadBytes","snapshot","getDownloadURL","downloadURL","setDoc","image_url","Number","open","severity","msg","err","lastid","className","styles","onClick","onSubmit","htmlFor","required","company_name","onChange","disabled","selected","type","expense_nature","bill_amount","placeholder","uploaded_by","defaultValue","id","payment_method","selected_date","files","invoice_number","cols","rows","description","GST_number","src","loader","GlobalContextProvider","createContext","useContext","children","bankTransaction","setBankTransaction","snackbar","getingImgFromFolder","setGetingImgFromFolder","disableBtn","setDisableBtn","getBankTransaction","axios","prefixes","folderRef","Alert","React","props","elevation","variant","handleClose","event","reason","Provider","autoHideDuration","onClose","sx","width"],"sourceRoot":""}